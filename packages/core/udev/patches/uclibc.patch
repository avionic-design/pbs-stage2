Fix build against uClibc.

From: Thierry Reding <thierry.reding@avionic-design.de>


---
 extras/ata_id/ata_id.c    |    4 ++++
 libudev/libudev-monitor.c |    4 ++++
 udev/udevd.c              |    4 ++++
 3 files changed, 12 insertions(+), 0 deletions(-)

diff --git a/extras/ata_id/ata_id.c b/extras/ata_id/ata_id.c
index 92387e5..1c58b94 100644
--- a/extras/ata_id/ata_id.c
+++ b/extras/ata_id/ata_id.c
@@ -45,6 +45,10 @@
 #include "libudev.h"
 #include "libudev-private.h"
 
+#if defined(__UCLIBC__)
+#define le16toh(x) __le16_to_cpu(x)
+#endif
+
 #define COMMAND_TIMEOUT_MSEC (30 * 1000)
 
 static int disk_scsi_inquiry_command(int      fd,
diff --git a/libudev/libudev-monitor.c b/libudev/libudev-monitor.c
index a3789c4..d7f17b9 100644
--- a/libudev/libudev-monitor.c
+++ b/libudev/libudev-monitor.c
@@ -24,6 +24,10 @@
 #include <linux/netlink.h>
 #include <linux/filter.h>
 
+#ifndef SOCK_CLOEXEC
+#define SOCK_CLOEXEC 02000000
+#endif
+
 #include "libudev.h"
 #include "libudev-private.h"
 
diff --git a/udev/udevd.c b/udev/udevd.c
index aa2e365..cd2fba1 100644
--- a/udev/udevd.c
+++ b/udev/udevd.c
@@ -44,6 +44,10 @@
 #include <sys/inotify.h>
 #include <sys/utsname.h>
 
+#ifndef SOCK_CLOEXEC
+#define SOCK_CLOEXEC 02000000
+#endif
+
 #include "udev.h"
 #include "sd-daemon.h"
 
