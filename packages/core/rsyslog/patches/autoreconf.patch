Autoreconfigure.

From: Thierry Reding <thierry.reding@avionic-design.de>


---
 Makefile.in                      |   28 +-
 aclocal.m4                       |   40 +-
 configure                        |  706 ++++++++++++++++++++------------------
 doc/Makefile.in                  |    2 
 java/Makefile.in                 |    2 
 plugins/cust1/Makefile.in        |    2 
 plugins/im3195/Makefile.in       |    2 
 plugins/imdiag/Makefile.in       |    2 
 plugins/imfile/Makefile.in       |    2 
 plugins/imgssapi/Makefile.in     |    2 
 plugins/imklog/Makefile.in       |    2 
 plugins/immark/Makefile.in       |    2 
 plugins/impstats/Makefile.in     |    2 
 plugins/imptcp/Makefile.in       |    2 
 plugins/imrelp/Makefile.in       |    2 
 plugins/imsolaris/Makefile.in    |    2 
 plugins/imtcp/Makefile.in        |    2 
 plugins/imtemplate/Makefile.in   |    2 
 plugins/imudp/Makefile.in        |    2 
 plugins/imuxsock/Makefile.in     |    2 
 plugins/omdbalerting/Makefile.in |    2 
 plugins/omgssapi/Makefile.in     |    2 
 plugins/omhdfs/Makefile.in       |    2 
 plugins/omlibdbi/Makefile.in     |    2 
 plugins/ommail/Makefile.in       |    2 
 plugins/ommysql/Makefile.in      |    2 
 plugins/omoracle/Makefile.in     |    2 
 plugins/ompgsql/Makefile.in      |    2 
 plugins/omprog/Makefile.in       |    2 
 plugins/omrelp/Makefile.in       |    2 
 plugins/omruleset/Makefile.in    |    2 
 plugins/omsnmp/Makefile.in       |    2 
 plugins/omstdout/Makefile.in     |    2 
 plugins/omtemplate/Makefile.in   |    2 
 plugins/omtesting/Makefile.in    |    2 
 plugins/omudpspoof/Makefile.in   |    2 
 plugins/omuxsock/Makefile.in     |    2 
 plugins/pmlastmsg/Makefile.in    |    2 
 plugins/pmrfc3164sd/Makefile.in  |    2 
 runtime/Makefile.in              |    2 
 tests/Makefile.in                |    2 
 tools/Makefile.in                |    2 
 42 files changed, 494 insertions(+), 358 deletions(-)

diff --git a/Makefile.in b/Makefile.in
index 1b54f42..e5fce1c 100644
--- a/Makefile.in
+++ b/Makefile.in
@@ -318,6 +318,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
@@ -1089,6 +1091,7 @@ distclean-generic:
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
 	@echo "it deletes files that may require special tools to rebuild."
+@HAVE_SYSTEMD_FALSE@install-data-hook:
 clean: clean-recursive
 
 clean-am: clean-generic clean-libtool clean-pkglibLTLIBRARIES \
@@ -1115,7 +1118,8 @@ info-am:
 
 install-data-am: install-dist_systemdsystemunitDATA \
 	install-nodist_systemdsystemunitDATA
-
+	@$(NORMAL_INSTALL)
+	$(MAKE) $(AM_MAKEFLAGS) install-data-hook
 install-dvi: install-dvi-recursive
 
 install-dvi-am:
@@ -1167,7 +1171,8 @@ uninstall-am: uninstall-dist_systemdsystemunitDATA \
 	uninstall-pkglibLTLIBRARIES uninstall-sbinPROGRAMS
 
 .MAKE: $(RECURSIVE_CLEAN_TARGETS) $(RECURSIVE_TARGETS) all \
-	ctags-recursive install-am install-strip tags-recursive
+	ctags-recursive install-am install-data-am install-strip \
+	tags-recursive
 
 .PHONY: $(RECURSIVE_CLEAN_TARGETS) $(RECURSIVE_TARGETS) CTAGS GTAGS \
 	all all-am am--refresh check check-am clean clean-generic \
@@ -1178,10 +1183,10 @@ uninstall-am: uninstall-dist_systemdsystemunitDATA \
 	distclean-libtool distclean-tags distcleancheck distdir \
 	distuninstallcheck dvi dvi-am html html-am info info-am \
 	install install-am install-data install-data-am \
-	install-dist_systemdsystemunitDATA install-dvi install-dvi-am \
-	install-exec install-exec-am install-html install-html-am \
-	install-info install-info-am install-man \
-	install-nodist_systemdsystemunitDATA install-pdf \
+	install-data-hook install-dist_systemdsystemunitDATA \
+	install-dvi install-dvi-am install-exec install-exec-am \
+	install-html install-html-am install-info install-info-am \
+	install-man install-nodist_systemdsystemunitDATA install-pdf \
 	install-pdf-am install-pkglibLTLIBRARIES install-ps \
 	install-ps-am install-sbinPROGRAMS install-strip installcheck \
 	installcheck-am installdirs installdirs-am maintainer-clean \
@@ -1196,6 +1201,17 @@ uninstall-am: uninstall-dist_systemdsystemunitDATA \
 @HAVE_SYSTEMD_TRUE@%.service: %.service.in
 @HAVE_SYSTEMD_TRUE@	$(AM_V_GEN)sed -e 's,@sbindir\@,$(sbindir),g' $< > $@
 
+@HAVE_SYSTEMD_TRUE@install-data-hook:
+@HAVE_SYSTEMD_TRUE@	$(MKDIR_P) -m 0755 \
+@HAVE_SYSTEMD_TRUE@		$(DESTDIR)$(systemdsystemunitdir)/sockets.target.wants \
+@HAVE_SYSTEMD_TRUE@		$(DESTDIR)$(systemdsystemunitdir)/multi-user.target.wants
+@HAVE_SYSTEMD_TRUE@	( cd $(DESTDIR)$(systemdsystemunitdir)/sockets.target.wants && \
+@HAVE_SYSTEMD_TRUE@		rm -f rsyslog.socket && \
+@HAVE_SYSTEMD_TRUE@		$(LN_S) ../rsyslog.socket rsyslog.socket )
+@HAVE_SYSTEMD_TRUE@	( cd $(DESTDIR)$(systemdsystemunitdir)/multi-user.target.wants && \
+@HAVE_SYSTEMD_TRUE@		rm -f rsyslog.service && \
+@HAVE_SYSTEMD_TRUE@		$(LN_S) ../rsyslog.service rsyslog.service )
+
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
diff --git a/aclocal.m4 b/aclocal.m4
index 8411897..f186fa9 100644
--- a/aclocal.m4
+++ b/aclocal.m4
@@ -13,13 +13,14 @@
 
 m4_ifndef([AC_AUTOCONF_VERSION],
   [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
-m4_if(m4_defn([AC_AUTOCONF_VERSION]), [2.65],,
-[m4_warning([this file was generated for autoconf 2.65.
+m4_if(m4_defn([AC_AUTOCONF_VERSION]), [2.67],,
+[m4_warning([this file was generated for autoconf 2.67.
 You have another version of autoconf.  It may work, but is not guaranteed to.
 If you have problems, you may need to regenerate the build system entirely.
 To do so, use the procedure documented by the package, typically `autoreconf'.])])
 
 # pkg.m4 - Macros to locate and utilise pkg-config.            -*- Autoconf -*-
+# serial 1 (pkg-config-0.24)
 # 
 # Copyright Â© 2004 Scott James Remnant <scott@netsplit.com>.
 #
@@ -47,7 +48,10 @@ To do so, use the procedure documented by the package, typically `autoreconf'.])
 AC_DEFUN([PKG_PROG_PKG_CONFIG],
 [m4_pattern_forbid([^_?PKG_[A-Z_]+$])
 m4_pattern_allow([^PKG_CONFIG(_PATH)?$])
-AC_ARG_VAR([PKG_CONFIG], [path to pkg-config utility])dnl
+AC_ARG_VAR([PKG_CONFIG], [path to pkg-config utility])
+AC_ARG_VAR([PKG_CONFIG_PATH], [directories to add to pkg-config's search path])
+AC_ARG_VAR([PKG_CONFIG_LIBDIR], [path overriding pkg-config's built-in search path])
+
 if test "x$ac_cv_env_PKG_CONFIG_set" != "xset"; then
 	AC_PATH_TOOL([PKG_CONFIG], [pkg-config])
 fi
@@ -60,7 +64,6 @@ if test -n "$PKG_CONFIG"; then
 		AC_MSG_RESULT([no])
 		PKG_CONFIG=""
 	fi
-		
 fi[]dnl
 ])# PKG_PROG_PKG_CONFIG
 
@@ -69,21 +72,20 @@ fi[]dnl
 # Check to see whether a particular set of modules exists.  Similar
 # to PKG_CHECK_MODULES(), but does not set variables or print errors.
 #
-#
-# Similar to PKG_CHECK_MODULES, make sure that the first instance of
-# this or PKG_CHECK_MODULES is called, or make sure to call
-# PKG_CHECK_EXISTS manually
+# Please remember that m4 expands AC_REQUIRE([PKG_PROG_PKG_CONFIG])
+# only at the first occurence in configure.ac, so if the first place
+# it's called might be skipped (such as if it is within an "if", you
+# have to call PKG_CHECK_EXISTS manually
 # --------------------------------------------------------------
 AC_DEFUN([PKG_CHECK_EXISTS],
 [AC_REQUIRE([PKG_PROG_PKG_CONFIG])dnl
 if test -n "$PKG_CONFIG" && \
     AC_RUN_LOG([$PKG_CONFIG --exists --print-errors "$1"]); then
-  m4_ifval([$2], [$2], [:])
+  m4_default([$2], [:])
 m4_ifvaln([$3], [else
   $3])dnl
 fi])
 
-
 # _PKG_CONFIG([VARIABLE], [COMMAND], [MODULES])
 # ---------------------------------------------
 m4_define([_PKG_CONFIG],
@@ -136,6 +138,7 @@ and $1[]_LIBS to avoid the need to call pkg-config.
 See the pkg-config man page for more details.])
 
 if test $pkg_failed = yes; then
+   	AC_MSG_RESULT([no])
         _PKG_SHORT_ERRORS_SUPPORTED
         if test $_pkg_short_errors_supported = yes; then
 	        $1[]_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors "$2" 2>&1`
@@ -145,7 +148,7 @@ if test $pkg_failed = yes; then
 	# Put the nasty error message in config.log where it belongs
 	echo "$$1[]_PKG_ERRORS" >&AS_MESSAGE_LOG_FD
 
-	ifelse([$4], , [AC_MSG_ERROR(dnl
+	m4_default([$4], [AC_MSG_ERROR(
 [Package requirements ($2) were not met:
 
 $$1_PKG_ERRORS
@@ -153,25 +156,24 @@ $$1_PKG_ERRORS
 Consider adjusting the PKG_CONFIG_PATH environment variable if you
 installed software in a non-standard prefix.
 
-_PKG_TEXT
-])],
-		[AC_MSG_RESULT([no])
-                $4])
+_PKG_TEXT])[]dnl
+        ])
 elif test $pkg_failed = untried; then
-	ifelse([$4], , [AC_MSG_FAILURE(dnl
+     	AC_MSG_RESULT([no])
+	m4_default([$4], [AC_MSG_FAILURE(
 [The pkg-config script could not be found or is too old.  Make sure it
 is in your PATH or set the PKG_CONFIG environment variable to the full
 path to pkg-config.
 
 _PKG_TEXT
 
-To get pkg-config, see <http://pkg-config.freedesktop.org/>.])],
-		[$4])
+To get pkg-config, see <http://pkg-config.freedesktop.org/>.])[]dnl
+        ])
 else
 	$1[]_CFLAGS=$pkg_cv_[]$1[]_CFLAGS
 	$1[]_LIBS=$pkg_cv_[]$1[]_LIBS
         AC_MSG_RESULT([yes])
-	ifelse([$3], , :, [$3])
+	$3
 fi[]dnl
 ])# PKG_CHECK_MODULES
 
diff --git a/configure b/configure
index 306255d..29e28f5 100755
--- a/configure
+++ b/configure
@@ -1,13 +1,13 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.65 for rsyslog 5.7.1.
+# Generated by GNU Autoconf 2.67 for rsyslog 5.7.1.
 #
 # Report bugs to <rsyslog@lists.adiscon.com>.
 #
 #
 # Copyright (C) 1992, 1993, 1994, 1995, 1996, 1998, 1999, 2000, 2001,
-# 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009 Free Software Foundation,
-# Inc.
+# 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010 Free Software
+# Foundation, Inc.
 #
 #
 # This configure script is free software; the Free Software Foundation
@@ -319,7 +319,7 @@ $as_echo X"$as_dir" |
       test -d "$as_dir" && break
     done
     test -z "$as_dirs" || eval "mkdir $as_dirs"
-  } || test -d "$as_dir" || as_fn_error "cannot create directory $as_dir"
+  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"
 
 
 } # as_fn_mkdir_p
@@ -359,19 +359,19 @@ else
 fi # as_fn_arith
 
 
-# as_fn_error ERROR [LINENO LOG_FD]
-# ---------------------------------
+# as_fn_error STATUS ERROR [LINENO LOG_FD]
+# ----------------------------------------
 # Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
 # provided, also output the error to LOG_FD, referencing LINENO. Then exit the
-# script with status $?, using 1 if that was 0.
+# script with STATUS, using 1 if that was 0.
 as_fn_error ()
 {
-  as_status=$?; test $as_status -eq 0 && as_status=1
-  if test "$3"; then
-    as_lineno=${as_lineno-"$2"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-    $as_echo "$as_me:${as_lineno-$LINENO}: error: $1" >&$3
+  as_status=$1; test $as_status -eq 0 && as_status=1
+  if test "$4"; then
+    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
   fi
-  $as_echo "$as_me: error: $1" >&2
+  $as_echo "$as_me: error: $2" >&2
   as_fn_exit $as_status
 } # as_fn_error
 
@@ -682,7 +682,7 @@ test -n "$DJDIR" || exec 7<&0 </dev/null
 exec 6>&1
 
 # Name of the host.
-# hostname on some systems (SVR3.2, Linux) returns a bogus exit status,
+# hostname on some systems (SVR3.2, old GNU/Linux) returns a bogus exit status,
 # so uname gets run too.
 ac_hostname=`(hostname || uname -n) 2>/dev/null | sed 1q`
 
@@ -863,6 +863,8 @@ LIBOBJS
 DL_LIBS
 RT_LIBS
 SOL_LIBS
+PKG_CONFIG_LIBDIR
+PKG_CONFIG_PATH
 PKG_CONFIG
 OTOOL64
 OTOOL
@@ -1042,6 +1044,8 @@ LIBS
 CPPFLAGS
 CPP
 PKG_CONFIG
+PKG_CONFIG_PATH
+PKG_CONFIG_LIBDIR
 GNUTLS_CFLAGS
 GNUTLS_LIBS
 RELP_CFLAGS
@@ -1110,8 +1114,9 @@ do
   fi
 
   case $ac_option in
-  *=*)	ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
-  *)	ac_optarg=yes ;;
+  *=?*) ac_optarg=`expr "X$ac_option" : '[^=]*=\(.*\)'` ;;
+  *=)   ac_optarg= ;;
+  *)    ac_optarg=yes ;;
   esac
 
   # Accept the important Cygnus configure options, so we can diagnose typos.
@@ -1156,7 +1161,7 @@ do
     ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid feature name: $ac_useropt"
+      as_fn_error $? "invalid feature name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1182,7 +1187,7 @@ do
     ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid feature name: $ac_useropt"
+      as_fn_error $? "invalid feature name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1386,7 +1391,7 @@ do
     ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid package name: $ac_useropt"
+      as_fn_error $? "invalid package name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1402,7 +1407,7 @@ do
     ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error "invalid package name: $ac_useropt"
+      as_fn_error $? "invalid package name: $ac_useropt"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`$as_echo "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1432,8 +1437,8 @@ do
   | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
     x_libraries=$ac_optarg ;;
 
-  -*) as_fn_error "unrecognized option: \`$ac_option'
-Try \`$0 --help' for more information."
+  -*) as_fn_error $? "unrecognized option: \`$ac_option'
+Try \`$0 --help' for more information"
     ;;
 
   *=*)
@@ -1441,7 +1446,7 @@ Try \`$0 --help' for more information."
     # Reject names that are not valid shell variable names.
     case $ac_envvar in #(
       '' | [0-9]* | *[!_$as_cr_alnum]* )
-      as_fn_error "invalid variable name: \`$ac_envvar'" ;;
+      as_fn_error $? "invalid variable name: \`$ac_envvar'" ;;
     esac
     eval $ac_envvar=\$ac_optarg
     export $ac_envvar ;;
@@ -1459,13 +1464,13 @@ done
 
 if test -n "$ac_prev"; then
   ac_option=--`echo $ac_prev | sed 's/_/-/g'`
-  as_fn_error "missing argument to $ac_option"
+  as_fn_error $? "missing argument to $ac_option"
 fi
 
 if test -n "$ac_unrecognized_opts"; then
   case $enable_option_checking in
     no) ;;
-    fatal) as_fn_error "unrecognized options: $ac_unrecognized_opts" ;;
+    fatal) as_fn_error $? "unrecognized options: $ac_unrecognized_opts" ;;
     *)     $as_echo "$as_me: WARNING: unrecognized options: $ac_unrecognized_opts" >&2 ;;
   esac
 fi
@@ -1488,7 +1493,7 @@ do
     [\\/$]* | ?:[\\/]* )  continue;;
     NONE | '' ) case $ac_var in *prefix ) continue;; esac;;
   esac
-  as_fn_error "expected an absolute directory name for --$ac_var: $ac_val"
+  as_fn_error $? "expected an absolute directory name for --$ac_var: $ac_val"
 done
 
 # There might be people who depend on the old broken behavior: `$host'
@@ -1502,8 +1507,8 @@ target=$target_alias
 if test "x$host_alias" != x; then
   if test "x$build_alias" = x; then
     cross_compiling=maybe
-    $as_echo "$as_me: WARNING: If you wanted to set the --build type, don't use --host.
-    If a cross compiler is detected then cross compile mode will be used." >&2
+    $as_echo "$as_me: WARNING: if you wanted to set the --build type, don't use --host.
+    If a cross compiler is detected then cross compile mode will be used" >&2
   elif test "x$build_alias" != "x$host_alias"; then
     cross_compiling=yes
   fi
@@ -1518,9 +1523,9 @@ test "$silent" = yes && exec 6>/dev/null
 ac_pwd=`pwd` && test -n "$ac_pwd" &&
 ac_ls_di=`ls -di .` &&
 ac_pwd_ls_di=`cd "$ac_pwd" && ls -di .` ||
-  as_fn_error "working directory cannot be determined"
+  as_fn_error $? "working directory cannot be determined"
 test "X$ac_ls_di" = "X$ac_pwd_ls_di" ||
-  as_fn_error "pwd does not report name of working directory"
+  as_fn_error $? "pwd does not report name of working directory"
 
 
 # Find the source files, if location was not specified.
@@ -1559,11 +1564,11 @@ else
 fi
 if test ! -r "$srcdir/$ac_unique_file"; then
   test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
-  as_fn_error "cannot find sources ($ac_unique_file) in $srcdir"
+  as_fn_error $? "cannot find sources ($ac_unique_file) in $srcdir"
 fi
 ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
 ac_abs_confdir=`(
-	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error "$ac_msg"
+	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error $? "$ac_msg"
 	pwd)`
 # When building in place, set srcdir=.
 if test "$ac_abs_confdir" = "$ac_pwd"; then
@@ -1603,7 +1608,7 @@ Configuration:
       --help=short        display options specific to this package
       --help=recursive    display the short help of all the included packages
   -V, --version           display version information and exit
-  -q, --quiet, --silent   do not print \`checking...' messages
+  -q, --quiet, --silent   do not print \`checking ...' messages
       --cache-file=FILE   cache test results in FILE [disabled]
   -C, --config-cache      alias for \`--cache-file=config.cache'
   -n, --no-create         do not create output files
@@ -1745,6 +1750,10 @@ Some influential environment variables:
               you have headers in a nonstandard directory <include dir>
   CPP         C preprocessor
   PKG_CONFIG  path to pkg-config utility
+  PKG_CONFIG_PATH
+              directories to add to pkg-config's search path
+  PKG_CONFIG_LIBDIR
+              path overriding pkg-config's built-in search path
   GNUTLS_CFLAGS
               C compiler flags for GNUTLS, overriding pkg-config
   GNUTLS_LIBS linker flags for GNUTLS, overriding pkg-config
@@ -1822,9 +1831,9 @@ test -n "$ac_init_help" && exit $ac_status
 if $ac_init_version; then
   cat <<\_ACEOF
 rsyslog configure 5.7.1
-generated by GNU Autoconf 2.65
+generated by GNU Autoconf 2.67
 
-Copyright (C) 2009 Free Software Foundation, Inc.
+Copyright (C) 2010 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 _ACEOF
@@ -1894,7 +1903,7 @@ $as_echo "$ac_try_echo"; } >&5
     mv -f conftest.er1 conftest.err
   fi
   $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
-  test $ac_status = 0; } >/dev/null && {
+  test $ac_status = 0; } > conftest.i && {
 	 test -z "$ac_c_preproc_warn_flag$ac_c_werror_flag" ||
 	 test ! -s conftest.err
        }; then :
@@ -1918,10 +1927,10 @@ fi
 ac_fn_c_check_header_mongrel ()
 {
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-  if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+  if eval "test \"\${$3+set}\"" = set; then :
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 fi
 eval ac_res=\$$3
@@ -1957,7 +1966,7 @@ if ac_fn_c_try_cpp "$LINENO"; then :
 else
   ac_header_preproc=no
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_header_preproc" >&5
 $as_echo "$ac_header_preproc" >&6; }
 
@@ -1980,17 +1989,15 @@ $as_echo "$as_me: WARNING: $2: see the Autoconf documentation" >&2;}
 $as_echo "$as_me: WARNING: $2:     section \"Present But Cannot Be Compiled\"" >&2;}
     { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $2: proceeding with the compiler's result" >&5
 $as_echo "$as_me: WARNING: $2: proceeding with the compiler's result" >&2;}
-( cat <<\_ASBOX
-## ---------------------------------------- ##
+( $as_echo "## ---------------------------------------- ##
 ## Report this to rsyslog@lists.adiscon.com ##
-## ---------------------------------------- ##
-_ASBOX
+## ---------------------------------------- ##"
      ) | sed "s/^/$as_me: WARNING:     /" >&2
     ;;
 esac
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   eval "$3=\$ac_header_compiler"
@@ -2054,7 +2061,7 @@ ac_fn_c_check_header_compile ()
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -2130,7 +2137,7 @@ ac_fn_c_check_func ()
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -2198,7 +2205,7 @@ ac_fn_c_check_type ()
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2" >&5
 $as_echo_n "checking for $2... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   eval "$3=no"
@@ -2252,7 +2259,7 @@ ac_fn_c_find_uintX_t ()
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for uint$2_t" >&5
 $as_echo_n "checking for uint$2_t... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   eval "$3=no"
@@ -2282,8 +2289,7 @@ if ac_fn_c_try_compile "$LINENO"; then :
 esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.$ac_ext
-       eval as_val=\$$3
-   if test "x$as_val" = x""no; then :
+       if eval test \"x\$"$3"\" = x"no"; then :
 
 else
   break
@@ -2306,7 +2312,7 @@ ac_fn_c_check_member ()
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for $2.$3" >&5
 $as_echo_n "checking for $2.$3... " >&6; }
-if { as_var=$4; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${$4+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -2354,15 +2360,18 @@ $as_echo "$ac_res" >&6; }
 
 } # ac_fn_c_check_member
 
-# ac_fn_c_check_decl LINENO SYMBOL VAR
-# ------------------------------------
-# Tests whether SYMBOL is declared, setting cache variable VAR accordingly.
+# ac_fn_c_check_decl LINENO SYMBOL VAR INCLUDES
+# ---------------------------------------------
+# Tests whether SYMBOL is declared in INCLUDES, setting cache variable VAR
+# accordingly.
 ac_fn_c_check_decl ()
 {
   as_lineno=${as_lineno-"$1"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $2 is declared" >&5
-$as_echo_n "checking whether $2 is declared... " >&6; }
-if { as_var=$3; eval "test \"\${$as_var+set}\" = set"; }; then :
+  as_decl_name=`echo $2|sed 's/ *(.*//'`
+  as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`
+  { $as_echo "$as_me:${as_lineno-$LINENO}: checking whether $as_decl_name is declared" >&5
+$as_echo_n "checking whether $as_decl_name is declared... " >&6; }
+if eval "test \"\${$3+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -2371,8 +2380,12 @@ $4
 int
 main ()
 {
-#ifndef $2
-  (void) $2;
+#ifndef $as_decl_name
+#ifdef __cplusplus
+  (void) $as_decl_use;
+#else
+  (void) $as_decl_name;
+#endif
 #endif
 
   ;
@@ -2397,7 +2410,7 @@ This file contains any messages produced by compilers while
 running configure, to aid debugging if configure makes a mistake.
 
 It was created by rsyslog $as_me 5.7.1, which was
-generated by GNU Autoconf 2.65.  Invocation command line was
+generated by GNU Autoconf 2.67.  Invocation command line was
 
   $ $0 $@
 
@@ -2507,11 +2520,9 @@ trap 'exit_status=$?
   {
     echo
 
-    cat <<\_ASBOX
-## ---------------- ##
+    $as_echo "## ---------------- ##
 ## Cache variables. ##
-## ---------------- ##
-_ASBOX
+## ---------------- ##"
     echo
     # The following way of writing the cache mishandles newlines in values,
 (
@@ -2545,11 +2556,9 @@ $as_echo "$as_me: WARNING: cache variable $ac_var contains a newline" >&2;} ;;
 )
     echo
 
-    cat <<\_ASBOX
-## ----------------- ##
+    $as_echo "## ----------------- ##
 ## Output variables. ##
-## ----------------- ##
-_ASBOX
+## ----------------- ##"
     echo
     for ac_var in $ac_subst_vars
     do
@@ -2562,11 +2571,9 @@ _ASBOX
     echo
 
     if test -n "$ac_subst_files"; then
-      cat <<\_ASBOX
-## ------------------- ##
+      $as_echo "## ------------------- ##
 ## File substitutions. ##
-## ------------------- ##
-_ASBOX
+## ------------------- ##"
       echo
       for ac_var in $ac_subst_files
       do
@@ -2580,11 +2587,9 @@ _ASBOX
     fi
 
     if test -s confdefs.h; then
-      cat <<\_ASBOX
-## ----------- ##
+      $as_echo "## ----------- ##
 ## confdefs.h. ##
-## ----------- ##
-_ASBOX
+## ----------- ##"
       echo
       cat confdefs.h
       echo
@@ -2639,7 +2644,12 @@ _ACEOF
 ac_site_file1=NONE
 ac_site_file2=NONE
 if test -n "$CONFIG_SITE"; then
-  ac_site_file1=$CONFIG_SITE
+  # We do not want a PATH search for config.site.
+  case $CONFIG_SITE in #((
+    -*)  ac_site_file1=./$CONFIG_SITE;;
+    */*) ac_site_file1=$CONFIG_SITE;;
+    *)   ac_site_file1=./$CONFIG_SITE;;
+  esac
 elif test "x$prefix" != xNONE; then
   ac_site_file1=$prefix/share/config.site
   ac_site_file2=$prefix/etc/config.site
@@ -2654,7 +2664,11 @@ do
     { $as_echo "$as_me:${as_lineno-$LINENO}: loading site script $ac_site_file" >&5
 $as_echo "$as_me: loading site script $ac_site_file" >&6;}
     sed 's/^/| /' "$ac_site_file" >&5
-    . "$ac_site_file"
+    . "$ac_site_file" \
+      || { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+$as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
+as_fn_error $? "failed to load site script $ac_site_file
+See \`config.log' for more details" "$LINENO" 5 ; }
   fi
 done
 
@@ -2730,7 +2744,7 @@ if $ac_cache_corrupted; then
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
   { $as_echo "$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build" >&5
 $as_echo "$as_me: error: changes in the environment can compromise the build" >&2;}
-  as_fn_error "run \`make distclean' and/or \`rm $cache_file' and start over" "$LINENO" 5
+  as_fn_error $? "run \`make distclean' and/or \`rm $cache_file' and start over" "$LINENO" 5
 fi
 ## -------------------- ##
 ## Main body of script. ##
@@ -2747,16 +2761,22 @@ am__api_version='1.11'
 
 ac_aux_dir=
 for ac_dir in "$srcdir" "$srcdir/.." "$srcdir/../.."; do
-  for ac_t in install-sh install.sh shtool; do
-    if test -f "$ac_dir/$ac_t"; then
-      ac_aux_dir=$ac_dir
-      ac_install_sh="$ac_aux_dir/$ac_t -c"
-      break 2
-    fi
-  done
+  if test -f "$ac_dir/install-sh"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/install-sh -c"
+    break
+  elif test -f "$ac_dir/install.sh"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/install.sh -c"
+    break
+  elif test -f "$ac_dir/shtool"; then
+    ac_aux_dir=$ac_dir
+    ac_install_sh="$ac_aux_dir/shtool install -c"
+    break
+  fi
 done
 if test -z "$ac_aux_dir"; then
-  as_fn_error "cannot find install-sh, install.sh, or shtool in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"" "$LINENO" 5
+  as_fn_error $? "cannot find install-sh, install.sh, or shtool in \"$srcdir\" \"$srcdir/..\" \"$srcdir/../..\"" "$LINENO" 5
 fi
 
 # These three variables are undocumented and unsupported,
@@ -2872,11 +2892,11 @@ am_lf='
 '
 case `pwd` in
   *[\\\"\#\$\&\'\`$am_lf]*)
-    as_fn_error "unsafe absolute working directory name" "$LINENO" 5;;
+    as_fn_error $? "unsafe absolute working directory name" "$LINENO" 5 ;;
 esac
 case $srcdir in
   *[\\\"\#\$\&\'\`$am_lf\ \	]*)
-    as_fn_error "unsafe srcdir value: \`$srcdir'" "$LINENO" 5;;
+    as_fn_error $? "unsafe srcdir value: \`$srcdir'" "$LINENO" 5 ;;
 esac
 
 # Do `set' in a subshell so we don't clobber the current shell's
@@ -2898,7 +2918,7 @@ if (
       # if, for instance, CONFIG_SHELL is bash and it inherits a
       # broken ls alias from the environment.  This has actually
       # happened.  Such a system could not be considered "sane".
-      as_fn_error "ls -t appears to fail.  Make sure there is not a broken
+      as_fn_error $? "ls -t appears to fail.  Make sure there is not a broken
 alias in your environment" "$LINENO" 5
    fi
 
@@ -2908,7 +2928,7 @@ then
    # Ok.
    :
 else
-   as_fn_error "newly created file is older than distributed files!
+   as_fn_error $? "newly created file is older than distributed files!
 Check your system clock" "$LINENO" 5
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
@@ -3146,7 +3166,7 @@ done
 $as_echo_n "checking whether ${MAKE-make} sets \$(MAKE)... " >&6; }
 set x ${MAKE-make}
 ac_make=`$as_echo "$2" | sed 's/+/p/g; s/[^a-zA-Z0-9_]/_/g'`
-if { as_var=ac_cv_prog_make_${ac_make}_set; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${ac_cv_prog_make_${ac_make}_set+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat >conftest.make <<\_ACEOF
@@ -3154,7 +3174,7 @@ SHELL = /bin/sh
 all:
 	@echo '@@@%%%=$(MAKE)=@@@%%%'
 _ACEOF
-# GNU make sometimes prints "make[1]: Entering...", which would confuse us.
+# GNU make sometimes prints "make[1]: Entering ...", which would confuse us.
 case `${MAKE-make} -f conftest.make 2>/dev/null` in
   *@@@%%%=?*=@@@%%%*)
     eval ac_cv_prog_make_${ac_make}_set=yes;;
@@ -3188,7 +3208,7 @@ if test "`cd $srcdir && pwd`" != "`pwd`"; then
   am__isrc=' -I$(srcdir)'
   # test to see if srcdir already configured
   if test -f $srcdir/config.status; then
-    as_fn_error "source directory already configured; run \"make distclean\" there first" "$LINENO" 5
+    as_fn_error $? "source directory already configured; run \"make distclean\" there first" "$LINENO" 5
   fi
 fi
 
@@ -3625,8 +3645,8 @@ fi
 
 test -z "$CC" && { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "no acceptable C compiler found in \$PATH
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "no acceptable C compiler found in \$PATH
+See \`config.log' for more details" "$LINENO" 5 ; }
 
 # Provide some information about the compiler.
 $as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
@@ -3740,9 +3760,8 @@ sed 's/^/| /' conftest.$ac_ext >&5
 
 { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-{ as_fn_set_status 77
-as_fn_error "C compiler cannot create executables
-See \`config.log' for more details." "$LINENO" 5; }; }
+as_fn_error 77 "C compiler cannot create executables
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
@@ -3784,8 +3803,8 @@ done
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot compute suffix of executables: cannot compile and link
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot compute suffix of executables: cannot compile and link
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 rm -f conftest conftest$ac_cv_exeext
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
@@ -3842,9 +3861,9 @@ $as_echo "$ac_try_echo"; } >&5
     else
 	{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot run C compiled programs.
+as_fn_error $? "cannot run C compiled programs.
 If you meant to cross compile, use \`--host'.
-See \`config.log' for more details." "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
     fi
   fi
 fi
@@ -3895,8 +3914,8 @@ sed 's/^/| /' conftest.$ac_ext >&5
 
 { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "cannot compute suffix of object files: cannot compile
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "cannot compute suffix of object files: cannot compile
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 rm -f conftest.$ac_cv_objext conftest.$ac_ext
 fi
@@ -4286,7 +4305,7 @@ else
   # Broken: fails on valid input.
 continue
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
   # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
@@ -4302,11 +4321,11 @@ else
 ac_preproc_ok=:
 break
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
 # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok; then :
   break
 fi
@@ -4345,7 +4364,7 @@ else
   # Broken: fails on valid input.
 continue
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
   # OK, works on sane cases.  Now check whether nonexistent headers
   # can be detected and how.
@@ -4361,18 +4380,18 @@ else
 ac_preproc_ok=:
 break
 fi
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
 # Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
-rm -f conftest.err conftest.$ac_ext
+rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok; then :
 
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "C preprocessor \"$CPP\" fails sanity check
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 
 ac_ext=c
@@ -4433,7 +4452,7 @@ esac
   done
 IFS=$as_save_IFS
   if test -z "$ac_cv_path_GREP"; then
-    as_fn_error "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
   fi
 else
   ac_cv_path_GREP=$GREP
@@ -4499,7 +4518,7 @@ esac
   done
 IFS=$as_save_IFS
   if test -z "$ac_cv_path_EGREP"; then
-    as_fn_error "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
   fi
 else
   ac_cv_path_EGREP=$EGREP
@@ -4631,8 +4650,7 @@ do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -5049,8 +5067,8 @@ fi
 
 test -z "$CC" && { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "no acceptable C compiler found in \$PATH
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "no acceptable C compiler found in \$PATH
+See \`config.log' for more details" "$LINENO" 5 ; }
 
 # Provide some information about the compiler.
 $as_echo "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
@@ -5425,7 +5443,7 @@ $as_echo_n "checking whether cc understands -c and -o together... " >&6; }
 fi
 set dummy $CC; ac_cc=`$as_echo "$2" |
 		      sed 's/[^a-zA-Z0-9_]/_/g;s/^[0-9]/_/'`
-if { as_var=ac_cv_prog_cc_${ac_cc}_c_o; eval "test \"\${$as_var+set}\" = set"; }; then :
+if eval "test \"\${ac_cv_prog_cc_${ac_cc}_c_o+set}\"" = set; then :
   $as_echo_n "(cached) " >&6
 else
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -5603,7 +5621,7 @@ ltmain="$ac_aux_dir/ltmain.sh"
 
 # Make sure we can run config.sub.
 $SHELL "$ac_aux_dir/config.sub" sun4 >/dev/null 2>&1 ||
-  as_fn_error "cannot run $SHELL $ac_aux_dir/config.sub" "$LINENO" 5
+  as_fn_error $? "cannot run $SHELL $ac_aux_dir/config.sub" "$LINENO" 5
 
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking build system type" >&5
 $as_echo_n "checking build system type... " >&6; }
@@ -5614,16 +5632,16 @@ else
 test "x$ac_build_alias" = x &&
   ac_build_alias=`$SHELL "$ac_aux_dir/config.guess"`
 test "x$ac_build_alias" = x &&
-  as_fn_error "cannot guess build type; you must specify one" "$LINENO" 5
+  as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
 ac_cv_build=`$SHELL "$ac_aux_dir/config.sub" $ac_build_alias` ||
-  as_fn_error "$SHELL $ac_aux_dir/config.sub $ac_build_alias failed" "$LINENO" 5
+  as_fn_error $? "$SHELL $ac_aux_dir/config.sub $ac_build_alias failed" "$LINENO" 5
 
 fi
 { $as_echo "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
 $as_echo "$ac_cv_build" >&6; }
 case $ac_cv_build in
 *-*-*) ;;
-*) as_fn_error "invalid value of canonical build" "$LINENO" 5;;
+*) as_fn_error $? "invalid value of canonical build" "$LINENO" 5 ;;
 esac
 build=$ac_cv_build
 ac_save_IFS=$IFS; IFS='-'
@@ -5648,7 +5666,7 @@ else
   ac_cv_host=$ac_cv_build
 else
   ac_cv_host=`$SHELL "$ac_aux_dir/config.sub" $host_alias` ||
-    as_fn_error "$SHELL $ac_aux_dir/config.sub $host_alias failed" "$LINENO" 5
+    as_fn_error $? "$SHELL $ac_aux_dir/config.sub $host_alias failed" "$LINENO" 5
 fi
 
 fi
@@ -5656,7 +5674,7 @@ fi
 $as_echo "$ac_cv_host" >&6; }
 case $ac_cv_host in
 *-*-*) ;;
-*) as_fn_error "invalid value of canonical host" "$LINENO" 5;;
+*) as_fn_error $? "invalid value of canonical host" "$LINENO" 5 ;;
 esac
 host=$ac_cv_host
 ac_save_IFS=$IFS; IFS='-'
@@ -5729,7 +5747,7 @@ esac
   done
 IFS=$as_save_IFS
   if test -z "$ac_cv_path_SED"; then
-    as_fn_error "no acceptable sed could be found in \$PATH" "$LINENO" 5
+    as_fn_error $? "no acceptable sed could be found in \$PATH" "$LINENO" 5
   fi
 else
   ac_cv_path_SED=$SED
@@ -5808,7 +5826,7 @@ esac
   done
 IFS=$as_save_IFS
   if test -z "$ac_cv_path_FGREP"; then
-    as_fn_error "no acceptable fgrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
+    as_fn_error $? "no acceptable fgrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
   fi
 else
   ac_cv_path_FGREP=$FGREP
@@ -5924,7 +5942,7 @@ else
   { $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
 $as_echo "no" >&6; }
 fi
-test -z "$LD" && as_fn_error "no acceptable ld found in \$PATH" "$LINENO" 5
+test -z "$LD" && as_fn_error $? "no acceptable ld found in \$PATH" "$LINENO" 5
 { $as_echo "$as_me:${as_lineno-$LINENO}: checking if the linker ($LD) is GNU ld" >&5
 $as_echo_n "checking if the linker ($LD) is GNU ld... " >&6; }
 if test "${lt_cv_prog_gnu_ld+set}" = set; then :
@@ -6126,13 +6144,13 @@ if test "${lt_cv_nm_interface+set}" = set; then :
 else
   lt_cv_nm_interface="BSD nm"
   echo "int some_variable = 0;" > conftest.$ac_ext
-  (eval echo "\"\$as_me:6129: $ac_compile\"" >&5)
+  (eval echo "\"\$as_me:6147: $ac_compile\"" >&5)
   (eval "$ac_compile" 2>conftest.err)
   cat conftest.err >&5
-  (eval echo "\"\$as_me:6132: $NM \\\"conftest.$ac_objext\\\"\"" >&5)
+  (eval echo "\"\$as_me:6150: $NM \\\"conftest.$ac_objext\\\"\"" >&5)
   (eval "$NM \"conftest.$ac_objext\"" 2>conftest.err > conftest.out)
   cat conftest.err >&5
-  (eval echo "\"\$as_me:6135: output\"" >&5)
+  (eval echo "\"\$as_me:6153: output\"" >&5)
   cat conftest.out >&5
   if $GREP 'External.*some_variable' conftest.out > /dev/null; then
     lt_cv_nm_interface="MS dumpbin"
@@ -7337,7 +7355,7 @@ ia64-*-hpux*)
   ;;
 *-*-irix6*)
   # Find out which ABI we are using.
-  echo '#line 7340 "configure"' > conftest.$ac_ext
+  echo '#line 7358 "configure"' > conftest.$ac_ext
   if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_compile\""; } >&5
   (eval $ac_compile) 2>&5
   ac_status=$?
@@ -8569,11 +8587,11 @@ else
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8572: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8590: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8576: \$? = $ac_status" >&5
+   echo "$as_me:8594: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
@@ -8908,11 +8926,11 @@ else
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:8911: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:8929: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>conftest.err)
    ac_status=$?
    cat conftest.err >&5
-   echo "$as_me:8915: \$? = $ac_status" >&5
+   echo "$as_me:8933: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s "$ac_outfile"; then
      # The compiler can only warn and ignore the option if not recognized
      # So say no if there are warnings other than the usual output.
@@ -9013,11 +9031,11 @@ else
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:9016: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:9034: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:9020: \$? = $ac_status" >&5
+   echo "$as_me:9038: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
@@ -9068,11 +9086,11 @@ else
    -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
    -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
    -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:9071: $lt_compile\"" >&5)
+   (eval echo "\"\$as_me:9089: $lt_compile\"" >&5)
    (eval "$lt_compile" 2>out/conftest.err)
    ac_status=$?
    cat out/conftest.err >&5
-   echo "$as_me:9075: \$? = $ac_status" >&5
+   echo "$as_me:9093: \$? = $ac_status" >&5
    if (exit $ac_status) && test -s out/conftest2.$ac_objext
    then
      # The compiler can only warn and ignore the option if not recognized
@@ -11438,7 +11456,7 @@ else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<_LT_EOF
-#line 11441 "configure"
+#line 11459 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
@@ -11534,7 +11552,7 @@ else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
   lt_status=$lt_dlunknown
   cat > conftest.$ac_ext <<_LT_EOF
-#line 11537 "configure"
+#line 11555 "configure"
 #include "confdefs.h"
 
 #if HAVE_DLFCN_H
@@ -11765,6 +11783,10 @@ CC="$lt_save_CC"
 
 
 
+
+
+
+
 if test "x$ac_cv_env_PKG_CONFIG_set" != "xset"; then
 	if test -n "$ac_tool_prefix"; then
   # Extract the first word of "${ac_tool_prefix}pkg-config", so it can be a program name with args.
@@ -11877,7 +11899,6 @@ $as_echo "yes" >&6; }
 $as_echo "no" >&6; }
 		PKG_CONFIG=""
 	fi
-
 fi
 
 case "${host}" in
@@ -12054,8 +12075,7 @@ ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "#ifdef HAVE
 #  include <netdb.h>
 #endif
 "
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -12222,8 +12242,7 @@ for ac_header in arpa/inet.h libgen.h malloc.h fcntl.h locale.h netdb.h netinet/
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -12714,8 +12733,7 @@ for ac_func in fork vfork
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -13092,8 +13110,7 @@ for ac_header in sys/select.h sys/socket.h
 do :
   as_ac_Header=`$as_echo "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_mongrel "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
-eval as_val=\$$as_ac_Header
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_Header"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
@@ -13420,8 +13437,7 @@ for ac_func in flock basename alarm clock_gettime gethostbyname gethostname gett
 do :
   as_ac_var=`$as_echo "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
-eval as_val=\$$as_ac_var
-   if test "x$as_val" = x""yes; then :
+if eval test \"x\$"$as_ac_var"\" = x"yes"; then :
   cat >>confdefs.h <<_ACEOF
 #define `$as_echo "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
@@ -13864,7 +13880,7 @@ if test "${enable_regexp+set}" = set; then :
   enableval=$enable_regexp; case "${enableval}" in
          yes) enable_regexp="yes" ;;
           no) enable_regexp="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-regexp" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-regexp" "$LINENO" 5  ;;
          esac
 else
   enable_regexp=yes
@@ -13893,7 +13909,7 @@ if test "${enable_zlib+set}" = set; then :
   enableval=$enable_zlib; case "${enableval}" in
          yes) enable_zlib="yes" ;;
           no) enable_zlib="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-zlib" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-zlib" "$LINENO" 5  ;;
          esac
 else
   enable_zlib=yes
@@ -13974,7 +13990,7 @@ if test "${enable_gssapi_krb5+set}" = set; then :
   enableval=$enable_gssapi_krb5; case "${enableval}" in
          yes) enable_gssapi_krb5="yes" ;;
           no) enable_gssapi_krb5="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-gssapi-krb5" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-gssapi-krb5" "$LINENO" 5  ;;
          esac
 else
   enable_gssapi_krb5=no
@@ -14052,7 +14068,7 @@ if test "${enable_pthreads+set}" = set; then :
   enableval=$enable_pthreads; case "${enableval}" in
          yes) enable_pthreads="yes" ;;
           no) enable_pthreads="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-pthreads" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-pthreads" "$LINENO" 5  ;;
          esac
 else
   enable_pthreads=yes
@@ -14061,7 +14077,7 @@ fi
 
 
 if test "x$enable_pthreads" = "xno"; then
-	as_fn_error "rsyslog v3+ does no longer support single threading mode -- use a previous version for that" "$LINENO" 5;
+	as_fn_error $? "rsyslog v3+ does no longer support single threading mode -- use a previous version for that" "$LINENO" 5 ;
 fi
 
 if test "x$enable_pthreads" != "xno"; then
@@ -14126,16 +14142,16 @@ $as_echo "#define USE_PTHREADS 1" >>confdefs.h
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "pthread is missing
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "pthread is missing
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 
 
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "pthread is missing
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "pthread is missing
+See \`config.log' for more details" "$LINENO" 5 ; }
 
 fi
 
@@ -14150,7 +14166,7 @@ if test "${enable_klog+set}" = set; then :
   enableval=$enable_klog; case "${enableval}" in
          yes) enable_klog="yes" ;;
           no) enable_klog="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-klog" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-klog" "$LINENO" 5  ;;
          esac
 else
   enable_klog="yes"
@@ -14229,7 +14245,7 @@ if test "${enable_inet+set}" = set; then :
   enableval=$enable_inet; case "${enableval}" in
          yes) enable_inet="yes" ;;
           no) enable_inet="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-inet" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-inet" "$LINENO" 5  ;;
          esac
 else
   enable_inet="yes"
@@ -14290,7 +14306,7 @@ if test "${enable_unlimited_select+set}" = set; then :
   enableval=$enable_unlimited_select; case "${enableval}" in
          yes) enable_unlimited_select="yes" ;;
           no) enable_unlimited_select="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-unlimited-select" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-unlimited-select" "$LINENO" 5  ;;
          esac
 else
   enable_unlimited_select="no"
@@ -14333,7 +14349,7 @@ if test "${enable_debug+set}" = set; then :
   enableval=$enable_debug; case "${enableval}" in
          yes) enable_debug="yes" ;;
           no) enable_debug="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-debug" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-debug" "$LINENO" 5  ;;
          esac
 else
   enable_debug="no"
@@ -14358,7 +14374,7 @@ if test "${enable_rtinst+set}" = set; then :
   enableval=$enable_rtinst; case "${enableval}" in
          yes) enable_rtinst="yes" ;;
           no) enable_rtinst="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-rtinst" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-rtinst" "$LINENO" 5  ;;
          esac
 else
   enable_rtinst="no"
@@ -14378,7 +14394,7 @@ if test "${enable_valgrind+set}" = set; then :
   enableval=$enable_valgrind; case "${enableval}" in
          yes) enable_valgrind="yes" ;;
           no) enable_valgrind="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-valgrind" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-valgrind" "$LINENO" 5  ;;
          esac
 else
   enable_valgrind="no"
@@ -14398,7 +14414,7 @@ if test "${enable_memcheck+set}" = set; then :
   enableval=$enable_memcheck; case "${enableval}" in
          yes) enable_memcheck="yes" ;;
           no) enable_memcheck="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-memcheck" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-memcheck" "$LINENO" 5  ;;
          esac
 else
   enable_memcheck="no"
@@ -14418,7 +14434,7 @@ if test "${enable_diagtools+set}" = set; then :
   enableval=$enable_diagtools; case "${enableval}" in
          yes) enable_diagtools="yes" ;;
           no) enable_diagtools="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-diagtools" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-diagtools" "$LINENO" 5  ;;
          esac
 else
   enable_diagtools=no
@@ -14442,7 +14458,7 @@ if test "${enable_mysql+set}" = set; then :
   enableval=$enable_mysql; case "${enableval}" in
          yes) enable_mysql="yes" ;;
           no) enable_mysql="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-mysql" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-mysql" "$LINENO" 5  ;;
          esac
 else
   enable_mysql=no
@@ -14490,8 +14506,8 @@ fi
   if test "x${HAVE_MYSQL_CONFIG}" != "xyes"; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "mysql_config not found in PATH - usually a package named mysql-dev, libmysql-dev or similar, is missing - install it to fix this issue
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "mysql_config not found in PATH - usually a package named mysql-dev, libmysql-dev or similar, is missing - install it to fix this issue
+See \`config.log' for more details" "$LINENO" 5 ; }
   fi
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for mysql_init in -lmysqlclient" >&5
 $as_echo_n "checking for mysql_init in -lmysqlclient... " >&6; }
@@ -14537,8 +14553,8 @@ if test "x$ac_cv_lib_mysqlclient_mysql_init" = x""yes; then :
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "MySQL library is missing
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "MySQL library is missing
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 
 fi
@@ -14560,7 +14576,7 @@ if test "${enable_pgsql+set}" = set; then :
   enableval=$enable_pgsql; case "${enableval}" in
          yes) enable_pgsql="yes" ;;
           no) enable_pgsql="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-pgsql" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-pgsql" "$LINENO" 5  ;;
          esac
 else
   enable_pgsql=no
@@ -14608,8 +14624,8 @@ fi
   if test "x${HAVE_PGSQL_CONFIG}" != "xyes"; then
     { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "pg_config not found in PATH
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "pg_config not found in PATH
+See \`config.log' for more details" "$LINENO" 5 ; }
   fi
   { $as_echo "$as_me:${as_lineno-$LINENO}: checking for PQconnectdb in -lpq" >&5
 $as_echo_n "checking for PQconnectdb in -lpq... " >&6; }
@@ -14655,8 +14671,8 @@ if test "x$ac_cv_lib_pq_PQconnectdb" = x""yes; then :
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "PgSQL library is missing
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "PgSQL library is missing
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 
 fi
@@ -14678,7 +14694,7 @@ if test "${enable_oracle+set}" = set; then :
   enableval=$enable_oracle; case "${enableval}" in
 	 yes) enable_oracle="yes" ;;
 	 no) enable_oracle="no" ;;
-	 *) as_fn_error "bad value ${enableval} for --enable-oracle" "$LINENO" 5 ;;
+	 *) as_fn_error $? "bad value ${enableval} for --enable-oracle" "$LINENO" 5  ;;
 	 esac
 else
   enable_oracle=no
@@ -14726,8 +14742,8 @@ fi
     if test "x${HAVE_ORACLE_CONFIG}" != "xyes"; then
 	{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "oracle-instantclient-config not found in PATH
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "oracle-instantclient-config not found in PATH
+See \`config.log' for more details" "$LINENO" 5 ; }
     fi
     { $as_echo "$as_me:${as_lineno-$LINENO}: checking for OCIEnvCreate in -locci" >&5
 $as_echo_n "checking for OCIEnvCreate in -locci... " >&6; }
@@ -14773,8 +14789,8 @@ if test "x$ac_cv_lib_occi_OCIEnvCreate" = x""yes; then :
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "Oracle (OCI) libraray is missing
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "Oracle (OCI) libraray is missing
+See \`config.log' for more details" "$LINENO" 5 ; }
 fi
 
 fi
@@ -14796,7 +14812,7 @@ if test "${enable_libdbi+set}" = set; then :
   enableval=$enable_libdbi; case "${enableval}" in
          yes) enable_libdbi="yes" ;;
           no) enable_libdbi="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-libdbi" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-libdbi" "$LINENO" 5  ;;
          esac
 else
   enable_libdbi=no
@@ -14815,8 +14831,8 @@ _ACEOF
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "libdbi is missing
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "libdbi is missing
+See \`config.log' for more details" "$LINENO" 5 ; }
 
 fi
 
@@ -14865,8 +14881,8 @@ if test "x$ac_cv_lib_dbi_dbi_initialize" = x""yes; then :
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "libdbi library is missing
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "libdbi library is missing
+See \`config.log' for more details" "$LINENO" 5 ; }
 
 fi
 
@@ -14932,7 +14948,7 @@ if test "${enable_snmp+set}" = set; then :
   enableval=$enable_snmp; case "${enableval}" in
          yes) enable_snmp="yes" ;;
           no) enable_snmp="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-snmp" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-snmp" "$LINENO" 5  ;;
          esac
 else
   enable_snmp=no
@@ -14951,8 +14967,8 @@ _ACEOF
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "Net-SNMP is missing
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "Net-SNMP is missing
+See \`config.log' for more details" "$LINENO" 5 ; }
 
 fi
 
@@ -15001,8 +15017,8 @@ if test "x$ac_cv_lib_netsnmp_snmp_timeout" = x""yes; then :
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "Net-SNMP library is missing
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "Net-SNMP library is missing
+See \`config.log' for more details" "$LINENO" 5 ; }
 
 fi
 
@@ -15025,7 +15041,7 @@ if test "${enable_gnutls+set}" = set; then :
   enableval=$enable_gnutls; case "${enableval}" in
          yes) enable_gnutls="yes" ;;
           no) enable_gnutls="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-gnutls" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-gnutls" "$LINENO" 5  ;;
          esac
 else
   enable_gnutls=no
@@ -15074,6 +15090,8 @@ fi
 
 
 if test $pkg_failed = yes; then
+   	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+$as_echo "no" >&6; }
 
 if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
         _pkg_short_errors_supported=yes
@@ -15088,7 +15106,7 @@ fi
 	# Put the nasty error message in config.log where it belongs
 	echo "$GNUTLS_PKG_ERRORS" >&5
 
-	as_fn_error "Package requirements (gnutls >= 1.4.0) were not met:
+	as_fn_error $? "Package requirements (gnutls >= 1.4.0) were not met:
 
 $GNUTLS_PKG_ERRORS
 
@@ -15097,12 +15115,13 @@ installed software in a non-standard prefix.
 
 Alternatively, you may set the environment variables GNUTLS_CFLAGS
 and GNUTLS_LIBS to avoid the need to call pkg-config.
-See the pkg-config man page for more details.
-" "$LINENO" 5
+See the pkg-config man page for more details." "$LINENO" 5
 elif test $pkg_failed = untried; then
+     	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+$as_echo "no" >&6; }
 	{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "The pkg-config script could not be found or is too old.  Make sure it
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
 is in your PATH or set the PKG_CONFIG environment variable to the full
 path to pkg-config.
 
@@ -15111,13 +15130,13 @@ and GNUTLS_LIBS to avoid the need to call pkg-config.
 See the pkg-config man page for more details.
 
 To get pkg-config, see <http://pkg-config.freedesktop.org/>.
-See \`config.log' for more details." "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
 	GNUTLS_CFLAGS=$pkg_cv_GNUTLS_CFLAGS
 	GNUTLS_LIBS=$pkg_cv_GNUTLS_LIBS
         { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
-	:
+
 fi
 fi
  if test x$enable_gnutls = xyes; then
@@ -15138,7 +15157,7 @@ if test "${enable_rsyslogrt+set}" = set; then :
   enableval=$enable_rsyslogrt; case "${enableval}" in
          yes) enable_rsyslogrt="yes" ;;
           no) enable_rsyslogrt="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-rsyslogrt" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-rsyslogrt" "$LINENO" 5  ;;
          esac
 else
   enable_rsyslogrt=yes
@@ -15167,7 +15186,7 @@ if test "${enable_rsyslogd+set}" = set; then :
   enableval=$enable_rsyslogd; case "${enableval}" in
          yes) enable_rsyslogd="yes" ;;
           no) enable_rsyslogd="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-rsyslogd" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-rsyslogd" "$LINENO" 5  ;;
          esac
 else
   enable_rsyslogd=yes
@@ -15194,7 +15213,7 @@ if test "${enable_extended_tests+set}" = set; then :
   enableval=$enable_extended_tests; case "${enableval}" in
          yes) enable_rsyslogd="yes" ;;
           no) enable_rsyslogd="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-extended-tests" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-extended-tests" "$LINENO" 5  ;;
          esac
 else
   enable_extended_tests=no
@@ -15217,7 +15236,7 @@ if test "${enable_mail+set}" = set; then :
   enableval=$enable_mail; case "${enableval}" in
          yes) enable_mail="yes" ;;
           no) enable_mail="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-mail" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-mail" "$LINENO" 5  ;;
          esac
 else
   enable_mail=no
@@ -15244,7 +15263,7 @@ if test "${enable_imdiag+set}" = set; then :
   enableval=$enable_imdiag; case "${enableval}" in
          yes) enable_imdiag="yes" ;;
           no) enable_imdiag="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-imdiag" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-imdiag" "$LINENO" 5  ;;
          esac
 else
   enable_imdiag=no
@@ -15267,7 +15286,7 @@ if test "${enable_relp+set}" = set; then :
   enableval=$enable_relp; case "${enableval}" in
          yes) enable_relp="yes" ;;
           no) enable_relp="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-relp" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-relp" "$LINENO" 5  ;;
          esac
 else
   enable_relp=no
@@ -15316,6 +15335,8 @@ fi
 
 
 if test $pkg_failed = yes; then
+   	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+$as_echo "no" >&6; }
 
 if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
         _pkg_short_errors_supported=yes
@@ -15330,7 +15351,7 @@ fi
 	# Put the nasty error message in config.log where it belongs
 	echo "$RELP_PKG_ERRORS" >&5
 
-	as_fn_error "Package requirements (relp >= 0.1.1) were not met:
+	as_fn_error $? "Package requirements (relp >= 0.1.1) were not met:
 
 $RELP_PKG_ERRORS
 
@@ -15339,12 +15360,13 @@ installed software in a non-standard prefix.
 
 Alternatively, you may set the environment variables RELP_CFLAGS
 and RELP_LIBS to avoid the need to call pkg-config.
-See the pkg-config man page for more details.
-" "$LINENO" 5
+See the pkg-config man page for more details." "$LINENO" 5
 elif test $pkg_failed = untried; then
+     	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+$as_echo "no" >&6; }
 	{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "The pkg-config script could not be found or is too old.  Make sure it
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
 is in your PATH or set the PKG_CONFIG environment variable to the full
 path to pkg-config.
 
@@ -15353,13 +15375,13 @@ and RELP_LIBS to avoid the need to call pkg-config.
 See the pkg-config man page for more details.
 
 To get pkg-config, see <http://pkg-config.freedesktop.org/>.
-See \`config.log' for more details." "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
 	RELP_CFLAGS=$pkg_cv_RELP_CFLAGS
 	RELP_LIBS=$pkg_cv_RELP_LIBS
         { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
-	:
+
 fi
 fi
  if test x$enable_relp = xyes; then
@@ -15380,7 +15402,7 @@ if test "${enable_rfc3195+set}" = set; then :
   enableval=$enable_rfc3195; case "${enableval}" in
          yes) enable_rfc3195="yes" ;;
           no) enable_rfc3195="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-rfc3195" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-rfc3195" "$LINENO" 5  ;;
          esac
 else
   enable_rfc3195=no
@@ -15429,6 +15451,8 @@ fi
 
 
 if test $pkg_failed = yes; then
+   	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+$as_echo "no" >&6; }
 
 if $PKG_CONFIG --atleast-pkgconfig-version 0.20; then
         _pkg_short_errors_supported=yes
@@ -15443,7 +15467,7 @@ fi
 	# Put the nasty error message in config.log where it belongs
 	echo "$LIBLOGGING_PKG_ERRORS" >&5
 
-	as_fn_error "Package requirements (liblogging >= 0.7.1) were not met:
+	as_fn_error $? "Package requirements (liblogging >= 0.7.1) were not met:
 
 $LIBLOGGING_PKG_ERRORS
 
@@ -15452,12 +15476,13 @@ installed software in a non-standard prefix.
 
 Alternatively, you may set the environment variables LIBLOGGING_CFLAGS
 and LIBLOGGING_LIBS to avoid the need to call pkg-config.
-See the pkg-config man page for more details.
-" "$LINENO" 5
+See the pkg-config man page for more details." "$LINENO" 5
 elif test $pkg_failed = untried; then
+     	{ $as_echo "$as_me:${as_lineno-$LINENO}: result: no" >&5
+$as_echo "no" >&6; }
 	{ { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "The pkg-config script could not be found or is too old.  Make sure it
+as_fn_error $? "The pkg-config script could not be found or is too old.  Make sure it
 is in your PATH or set the PKG_CONFIG environment variable to the full
 path to pkg-config.
 
@@ -15466,13 +15491,13 @@ and LIBLOGGING_LIBS to avoid the need to call pkg-config.
 See the pkg-config man page for more details.
 
 To get pkg-config, see <http://pkg-config.freedesktop.org/>.
-See \`config.log' for more details." "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5 ; }
 else
 	LIBLOGGING_CFLAGS=$pkg_cv_LIBLOGGING_CFLAGS
 	LIBLOGGING_LIBS=$pkg_cv_LIBLOGGING_LIBS
         { $as_echo "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 $as_echo "yes" >&6; }
-	:
+
 fi
 fi
  if test x$enable_rfc3195 = xyes; then
@@ -15494,7 +15519,7 @@ if test "${enable_testbench+set}" = set; then :
   enableval=$enable_testbench; case "${enableval}" in
          yes) enable_testbench="yes" ;;
           no) enable_testbench="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-testbench" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-testbench" "$LINENO" 5  ;;
          esac
 else
   enable_testbench=yes
@@ -15522,7 +15547,7 @@ if test "${enable_imfile+set}" = set; then :
   enableval=$enable_imfile; case "${enableval}" in
          yes) enable_imfile="yes" ;;
           no) enable_imfile="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-imfile" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-imfile" "$LINENO" 5  ;;
          esac
 else
   enable_imfile=no
@@ -15545,7 +15570,7 @@ if test "${enable_imsolaris+set}" = set; then :
   enableval=$enable_imsolaris; case "${enableval}" in
          yes) enable_imsolaris="yes" ;;
           no) enable_imsolaris="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-imsolaris" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-imsolaris" "$LINENO" 5  ;;
          esac
 else
   enable_imsolaris=no
@@ -15567,7 +15592,7 @@ if test "${enable_imptcp+set}" = set; then :
   enableval=$enable_imptcp; case "${enableval}" in
          yes) enable_imptcp="yes" ;;
           no) enable_imptcp="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-imptcp" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-imptcp" "$LINENO" 5  ;;
          esac
 else
   enable_imptcp=no
@@ -15590,7 +15615,7 @@ if test "${enable_impstats+set}" = set; then :
   enableval=$enable_impstats; case "${enableval}" in
          yes) enable_impstats="yes" ;;
           no) enable_impstats="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-impstats" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-impstats" "$LINENO" 5  ;;
          esac
 else
   enable_impstats=no
@@ -15613,7 +15638,7 @@ if test "${enable_omprog+set}" = set; then :
   enableval=$enable_omprog; case "${enableval}" in
          yes) enable_omprog="yes" ;;
           no) enable_omprog="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-omprog" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-omprog" "$LINENO" 5  ;;
          esac
 else
   enable_omprog=no
@@ -15636,7 +15661,7 @@ if test "${enable_omudpspoof+set}" = set; then :
   enableval=$enable_omudpspoof; case "${enableval}" in
          yes) enable_omudpspoof="yes" ;;
           no) enable_omudpspoof="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-omudpspoof" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-omudpspoof" "$LINENO" 5  ;;
          esac
 else
   enable_omudpspoof=no
@@ -15656,8 +15681,8 @@ _ACEOF
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "libnet is missing
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "libnet is missing
+See \`config.log' for more details" "$LINENO" 5 ; }
 
 fi
 
@@ -15706,8 +15731,8 @@ if test "x$ac_cv_lib_net_libnet_init" = x""yes; then :
 else
   { { $as_echo "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
 $as_echo "$as_me: error: in \`$ac_pwd':" >&2;}
-as_fn_error "libnet is missing
-See \`config.log' for more details." "$LINENO" 5; }
+as_fn_error $? "libnet is missing
+See \`config.log' for more details" "$LINENO" 5 ; }
 
 fi
 
@@ -15730,7 +15755,7 @@ if test "${enable_omstdout+set}" = set; then :
   enableval=$enable_omstdout; case "${enableval}" in
          yes) enable_omstdout="yes" ;;
           no) enable_omstdout="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-omstdout" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-omstdout" "$LINENO" 5  ;;
          esac
 else
   enable_omstdout=no
@@ -15753,7 +15778,7 @@ if test "${enable_pmlastmsg+set}" = set; then :
   enableval=$enable_pmlastmsg; case "${enableval}" in
          yes) enable_pmlastmsg="yes" ;;
           no) enable_pmlastmsg="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-pmlastmsg" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-pmlastmsg" "$LINENO" 5  ;;
          esac
 else
   enable_pmlastmsg=no
@@ -15776,7 +15801,7 @@ if test "${enable_pmrfc3164sd+set}" = set; then :
   enableval=$enable_pmrfc3164sd; case "${enableval}" in
          yes) enable_pmrfc3164sd="yes" ;;
           no) enable_pmrfc3164sd="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-pmrfc3164sd" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-pmrfc3164sd" "$LINENO" 5  ;;
          esac
 else
   enable_pmrfc3164sd=no
@@ -15799,7 +15824,7 @@ if test "${enable_omruleset+set}" = set; then :
   enableval=$enable_omruleset; case "${enableval}" in
          yes) enable_omruleset="yes" ;;
           no) enable_omruleset="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-omruleset" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-omruleset" "$LINENO" 5  ;;
          esac
 else
   enable_omruleset=yes
@@ -15822,7 +15847,7 @@ if test "${enable_omdbalerting+set}" = set; then :
   enableval=$enable_omdbalerting; case "${enableval}" in
          yes) enable_omdbalerting="yes" ;;
           no) enable_omdbalerting="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-omdbalerting" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-omdbalerting" "$LINENO" 5  ;;
          esac
 else
   enable_omdbalerting=no
@@ -15846,7 +15871,7 @@ if test "${enable_gui+set}" = set; then :
   enableval=$enable_gui; case "${enableval}" in
          yes) enable_gui="yes" ;;
           no) enable_gui="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-gui" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-gui" "$LINENO" 5  ;;
          esac
 else
   enable_gui=no
@@ -15855,7 +15880,7 @@ fi
 
 if test "x$enable_gui" = "xyes"; then
 	if test x$HAVE_JAVAC = x; then
-	   as_fn_error "GUI components need Java, but Java development system is not installed on this system" "$LINENO" 5
+	   as_fn_error $? "GUI components need Java, but Java development system is not installed on this system" "$LINENO" 5
 	fi
 fi
  if test x$enable_gui = xyes; then
@@ -15877,7 +15902,7 @@ if test "${enable_omuxsock+set}" = set; then :
   enableval=$enable_omuxsock; case "${enableval}" in
          yes) enable_omuxsock="yes" ;;
           no) enable_omuxsock="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-omuxsock" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-omuxsock" "$LINENO" 5  ;;
          esac
 else
   enable_omuxsock=no
@@ -15902,7 +15927,7 @@ if test "${enable_cust1+set}" = set; then :
   enableval=$enable_cust1; case "${enableval}" in
          yes) enable_cust1="yes" ;;
           no) enable_cust1="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-cust1" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-cust1" "$LINENO" 5  ;;
          esac
 else
   enable_cust1=no
@@ -15927,7 +15952,7 @@ if test "${enable_imtemplate+set}" = set; then :
   enableval=$enable_imtemplate; case "${enableval}" in
          yes) enable_imtemplate="yes" ;;
           no) enable_imtemplate="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-imtemplate" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-imtemplate" "$LINENO" 5  ;;
          esac
 else
   enable_imtemplate=no
@@ -15957,7 +15982,7 @@ if test "${enable_omtemplate+set}" = set; then :
   enableval=$enable_omtemplate; case "${enableval}" in
          yes) enable_omtemplate="yes" ;;
           no) enable_omtemplate="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-omtemplate" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-omtemplate" "$LINENO" 5  ;;
          esac
 else
   enable_omtemplate=no
@@ -15985,7 +16010,7 @@ if test "${enable_omhdfs+set}" = set; then :
   enableval=$enable_omhdfs; case "${enableval}" in
          yes) enable_omhdfs="yes" ;;
           no) enable_omhdfs="no" ;;
-           *) as_fn_error "bad value ${enableval} for --enable-omhdfs" "$LINENO" 5 ;;
+           *) as_fn_error $? "bad value ${enableval} for --enable-omhdfs" "$LINENO" 5  ;;
          esac
 else
   enable_omhdfs=no
@@ -16091,6 +16116,7 @@ DEFS=-DHAVE_CONFIG_H
 
 ac_libobjs=
 ac_ltlibobjs=
+U=
 for ac_i in : $LIBOBJS; do test "x$ac_i" = x: && continue
   # 1. Remove the extension, and $U if already installed.
   ac_script='s/\$U\././;s/\.o$//;s/\.obj$//'
@@ -16114,183 +16140,183 @@ else
 fi
 
 if test -z "${AMDEP_TRUE}" && test -z "${AMDEP_FALSE}"; then
-  as_fn_error "conditional \"AMDEP\" was never defined.
+  as_fn_error $? "conditional \"AMDEP\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${am__fastdepCC_TRUE}" && test -z "${am__fastdepCC_FALSE}"; then
-  as_fn_error "conditional \"am__fastdepCC\" was never defined.
+  as_fn_error $? "conditional \"am__fastdepCC\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${am__fastdepCC_TRUE}" && test -z "${am__fastdepCC_FALSE}"; then
-  as_fn_error "conditional \"am__fastdepCC\" was never defined.
+  as_fn_error $? "conditional \"am__fastdepCC\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${WITH_MODDIRS_TRUE}" && test -z "${WITH_MODDIRS_FALSE}"; then
-  as_fn_error "conditional \"WITH_MODDIRS\" was never defined.
+  as_fn_error $? "conditional \"WITH_MODDIRS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_REGEXP_TRUE}" && test -z "${ENABLE_REGEXP_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_REGEXP\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_REGEXP\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_ZLIB_TRUE}" && test -z "${ENABLE_ZLIB_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_ZLIB\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_ZLIB\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_GSSAPI_TRUE}" && test -z "${ENABLE_GSSAPI_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_GSSAPI\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_GSSAPI\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_IMKLOG_TRUE}" && test -z "${ENABLE_IMKLOG_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_IMKLOG\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_IMKLOG\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_IMKLOG_BSD_TRUE}" && test -z "${ENABLE_IMKLOG_BSD_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_IMKLOG_BSD\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_IMKLOG_BSD\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_IMKLOG_LINUX_TRUE}" && test -z "${ENABLE_IMKLOG_LINUX_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_IMKLOG_LINUX\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_IMKLOG_LINUX\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_IMKLOG_SOLARIS_TRUE}" && test -z "${ENABLE_IMKLOG_SOLARIS_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_IMKLOG_SOLARIS\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_IMKLOG_SOLARIS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_INET_TRUE}" && test -z "${ENABLE_INET_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_INET\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_INET\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${HAVE_SYSTEMD_TRUE}" && test -z "${HAVE_SYSTEMD_FALSE}"; then
-  as_fn_error "conditional \"HAVE_SYSTEMD\" was never defined.
+  as_fn_error $? "conditional \"HAVE_SYSTEMD\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_DIAGTOOLS_TRUE}" && test -z "${ENABLE_DIAGTOOLS_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_DIAGTOOLS\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_DIAGTOOLS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_MYSQL_TRUE}" && test -z "${ENABLE_MYSQL_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_MYSQL\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_MYSQL\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_PGSQL_TRUE}" && test -z "${ENABLE_PGSQL_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_PGSQL\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_PGSQL\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_ORACLE_TRUE}" && test -z "${ENABLE_ORACLE_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_ORACLE\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_ORACLE\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_OMLIBDBI_TRUE}" && test -z "${ENABLE_OMLIBDBI_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_OMLIBDBI\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_OMLIBDBI\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_SNMP_TRUE}" && test -z "${ENABLE_SNMP_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_SNMP\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_SNMP\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_GNUTLS_TRUE}" && test -z "${ENABLE_GNUTLS_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_GNUTLS\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_GNUTLS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_RSYSLOGRT_TRUE}" && test -z "${ENABLE_RSYSLOGRT_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_RSYSLOGRT\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_RSYSLOGRT\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_RSYSLOGD_TRUE}" && test -z "${ENABLE_RSYSLOGD_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_RSYSLOGD\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_RSYSLOGD\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_EXTENDED_TESTS_TRUE}" && test -z "${ENABLE_EXTENDED_TESTS_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_EXTENDED_TESTS\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_EXTENDED_TESTS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_MAIL_TRUE}" && test -z "${ENABLE_MAIL_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_MAIL\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_MAIL\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_IMDIAG_TRUE}" && test -z "${ENABLE_IMDIAG_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_IMDIAG\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_IMDIAG\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_RELP_TRUE}" && test -z "${ENABLE_RELP_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_RELP\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_RELP\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_RFC3195_TRUE}" && test -z "${ENABLE_RFC3195_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_RFC3195\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_RFC3195\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_TESTBENCH_TRUE}" && test -z "${ENABLE_TESTBENCH_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_TESTBENCH\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_TESTBENCH\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_IMFILE_TRUE}" && test -z "${ENABLE_IMFILE_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_IMFILE\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_IMFILE\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_IMSOLARIS_TRUE}" && test -z "${ENABLE_IMSOLARIS_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_IMSOLARIS\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_IMSOLARIS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_IMPTCP_TRUE}" && test -z "${ENABLE_IMPTCP_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_IMPTCP\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_IMPTCP\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_IMPSTATS_TRUE}" && test -z "${ENABLE_IMPSTATS_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_IMPSTATS\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_IMPSTATS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_OMPROG_TRUE}" && test -z "${ENABLE_OMPROG_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_OMPROG\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_OMPROG\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_OMUDPSPOOF_TRUE}" && test -z "${ENABLE_OMUDPSPOOF_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_OMUDPSPOOF\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_OMUDPSPOOF\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_OMSTDOUT_TRUE}" && test -z "${ENABLE_OMSTDOUT_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_OMSTDOUT\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_OMSTDOUT\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_PMLASTMSG_TRUE}" && test -z "${ENABLE_PMLASTMSG_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_PMLASTMSG\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_PMLASTMSG\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_PMRFC3164SD_TRUE}" && test -z "${ENABLE_PMRFC3164SD_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_PMRFC3164SD\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_PMRFC3164SD\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_OMRULESET_TRUE}" && test -z "${ENABLE_OMRULESET_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_OMRULESET\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_OMRULESET\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_OMDBALERTING_TRUE}" && test -z "${ENABLE_OMDBALERTING_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_OMDBALERTING\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_OMDBALERTING\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_GUI_TRUE}" && test -z "${ENABLE_GUI_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_GUI\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_GUI\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_OMUXSOCK_TRUE}" && test -z "${ENABLE_OMUXSOCK_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_OMUXSOCK\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_OMUXSOCK\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_CUST1_TRUE}" && test -z "${ENABLE_CUST1_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_CUST1\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_CUST1\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_IMTEMPLATE_TRUE}" && test -z "${ENABLE_IMTEMPLATE_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_IMTEMPLATE\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_IMTEMPLATE\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_OMTEMPLATE_TRUE}" && test -z "${ENABLE_OMTEMPLATE_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_OMTEMPLATE\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_OMTEMPLATE\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 if test -z "${ENABLE_OMHDFS_TRUE}" && test -z "${ENABLE_OMHDFS_FALSE}"; then
-  as_fn_error "conditional \"ENABLE_OMHDFS\" was never defined.
+  as_fn_error $? "conditional \"ENABLE_OMHDFS\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
 
@@ -16440,19 +16466,19 @@ export LANGUAGE
 (unset CDPATH) >/dev/null 2>&1 && unset CDPATH
 
 
-# as_fn_error ERROR [LINENO LOG_FD]
-# ---------------------------------
+# as_fn_error STATUS ERROR [LINENO LOG_FD]
+# ----------------------------------------
 # Output "`basename $0`: error: ERROR" to stderr. If LINENO and LOG_FD are
 # provided, also output the error to LOG_FD, referencing LINENO. Then exit the
-# script with status $?, using 1 if that was 0.
+# script with STATUS, using 1 if that was 0.
 as_fn_error ()
 {
-  as_status=$?; test $as_status -eq 0 && as_status=1
-  if test "$3"; then
-    as_lineno=${as_lineno-"$2"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
-    $as_echo "$as_me:${as_lineno-$LINENO}: error: $1" >&$3
+  as_status=$1; test $as_status -eq 0 && as_status=1
+  if test "$4"; then
+    as_lineno=${as_lineno-"$3"} as_lineno_stack=as_lineno_stack=$as_lineno_stack
+    $as_echo "$as_me:${as_lineno-$LINENO}: error: $2" >&$4
   fi
-  $as_echo "$as_me: error: $1" >&2
+  $as_echo "$as_me: error: $2" >&2
   as_fn_exit $as_status
 } # as_fn_error
 
@@ -16648,7 +16674,7 @@ $as_echo X"$as_dir" |
       test -d "$as_dir" && break
     done
     test -z "$as_dirs" || eval "mkdir $as_dirs"
-  } || test -d "$as_dir" || as_fn_error "cannot create directory $as_dir"
+  } || test -d "$as_dir" || as_fn_error $? "cannot create directory $as_dir"
 
 
 } # as_fn_mkdir_p
@@ -16702,7 +16728,7 @@ cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
 # values after options handling.
 ac_log="
 This file was extended by rsyslog $as_me 5.7.1, which was
-generated by GNU Autoconf 2.65.  Invocation command line was
+generated by GNU Autoconf 2.67.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
@@ -16768,10 +16794,10 @@ cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
 ac_cs_config="`$as_echo "$ac_configure_args" | sed 's/^ //; s/[\\""\`\$]/\\\\&/g'`"
 ac_cs_version="\\
 rsyslog config.status 5.7.1
-configured by $0, generated by GNU Autoconf 2.65,
+configured by $0, generated by GNU Autoconf 2.67,
   with options \\"\$ac_cs_config\\"
 
-Copyright (C) 2009 Free Software Foundation, Inc.
+Copyright (C) 2010 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
 
@@ -16789,11 +16815,16 @@ ac_need_defaults=:
 while test $# != 0
 do
   case $1 in
-  --*=*)
+  --*=?*)
     ac_option=`expr "X$1" : 'X\([^=]*\)='`
     ac_optarg=`expr "X$1" : 'X[^=]*=\(.*\)'`
     ac_shift=:
     ;;
+  --*=)
+    ac_option=`expr "X$1" : 'X\([^=]*\)='`
+    ac_optarg=
+    ac_shift=:
+    ;;
   *)
     ac_option=$1
     ac_optarg=$2
@@ -16815,6 +16846,7 @@ do
     $ac_shift
     case $ac_optarg in
     *\'*) ac_optarg=`$as_echo "$ac_optarg" | sed "s/'/'\\\\\\\\''/g"` ;;
+    '') as_fn_error $? "missing file argument" ;;
     esac
     as_fn_append CONFIG_FILES " '$ac_optarg'"
     ac_need_defaults=false;;
@@ -16827,7 +16859,7 @@ do
     ac_need_defaults=false;;
   --he | --h)
     # Conflict between --help and --header
-    as_fn_error "ambiguous option: \`$1'
+    as_fn_error $? "ambiguous option: \`$1'
 Try \`$0 --help' for more information.";;
   --help | --hel | -h )
     $as_echo "$ac_cs_usage"; exit ;;
@@ -16836,7 +16868,7 @@ Try \`$0 --help' for more information.";;
     ac_cs_silent=: ;;
 
   # This is an error.
-  -*) as_fn_error "unrecognized option: \`$1'
+  -*) as_fn_error $? "unrecognized option: \`$1'
 Try \`$0 --help' for more information." ;;
 
   *) as_fn_append ac_config_targets " $1"
@@ -17189,7 +17221,7 @@ do
     "java/Makefile") CONFIG_FILES="$CONFIG_FILES java/Makefile" ;;
     "tests/Makefile") CONFIG_FILES="$CONFIG_FILES tests/Makefile" ;;
 
-  *) as_fn_error "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
+  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5 ;;
   esac
 done
 
@@ -17227,7 +17259,7 @@ $debug ||
 {
   tmp=./conf$$-$RANDOM
   (umask 077 && mkdir "$tmp")
-} || as_fn_error "cannot create a temporary directory in ." "$LINENO" 5
+} || as_fn_error $? "cannot create a temporary directory in ." "$LINENO" 5
 
 # Set up the scripts for CONFIG_FILES section.
 # No need to generate them if there are no CONFIG_FILES.
@@ -17244,7 +17276,7 @@ if test "x$ac_cr" = x; then
 fi
 ac_cs_awk_cr=`$AWK 'BEGIN { print "a\rb" }' </dev/null 2>/dev/null`
 if test "$ac_cs_awk_cr" = "a${ac_cr}b"; then
-  ac_cs_awk_cr='\r'
+  ac_cs_awk_cr='\\r'
 else
   ac_cs_awk_cr=$ac_cr
 fi
@@ -17258,18 +17290,18 @@ _ACEOF
   echo "$ac_subst_vars" | sed 's/.*/&!$&$ac_delim/' &&
   echo "_ACEOF"
 } >conf$$subs.sh ||
-  as_fn_error "could not make $CONFIG_STATUS" "$LINENO" 5
-ac_delim_num=`echo "$ac_subst_vars" | grep -c '$'`
+  as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
+ac_delim_num=`echo "$ac_subst_vars" | grep -c '^'`
 ac_delim='%!_!# '
 for ac_last_try in false false false false false :; do
   . ./conf$$subs.sh ||
-    as_fn_error "could not make $CONFIG_STATUS" "$LINENO" 5
+    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
 
   ac_delim_n=`sed -n "s/.*$ac_delim\$/X/p" conf$$subs.awk | grep -c X`
   if test $ac_delim_n = $ac_delim_num; then
     break
   elif $ac_last_try; then
-    as_fn_error "could not make $CONFIG_STATUS" "$LINENO" 5
+    as_fn_error $? "could not make $CONFIG_STATUS" "$LINENO" 5
   else
     ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
   fi
@@ -17358,20 +17390,28 @@ if sed "s/$ac_cr//" < /dev/null > /dev/null 2>&1; then
 else
   cat
 fi < "$tmp/subs1.awk" > "$tmp/subs.awk" \
-  || as_fn_error "could not setup config files machinery" "$LINENO" 5
+  || as_fn_error $? "could not setup config files machinery" "$LINENO" 5
 _ACEOF
 
-# VPATH may cause trouble with some makes, so we remove $(srcdir),
-# ${srcdir} and @srcdir@ from VPATH if srcdir is ".", strip leading and
+# VPATH may cause trouble with some makes, so we remove sole $(srcdir),
+# ${srcdir} and @srcdir@ entries from VPATH if srcdir is ".", strip leading and
 # trailing colons and then remove the whole line if VPATH becomes empty
 # (actually we leave an empty line to preserve line numbers).
 if test "x$srcdir" = x.; then
-  ac_vpsub='/^[	 ]*VPATH[	 ]*=/{
-s/:*\$(srcdir):*/:/
-s/:*\${srcdir}:*/:/
-s/:*@srcdir@:*/:/
-s/^\([^=]*=[	 ]*\):*/\1/
+  ac_vpsub='/^[	 ]*VPATH[	 ]*=[	 ]*/{
+h
+s///
+s/^/:/
+s/[	 ]*$/:/
+s/:\$(srcdir):/:/g
+s/:\${srcdir}:/:/g
+s/:@srcdir@:/:/g
+s/^:*//
 s/:*$//
+x
+s/\(=[	 ]*\).*/\1/
+G
+s/\n//
 s/^[^=]*=[	 ]*$//
 }'
 fi
@@ -17399,7 +17439,7 @@ for ac_last_try in false false :; do
   if test -z "$ac_t"; then
     break
   elif $ac_last_try; then
-    as_fn_error "could not make $CONFIG_HEADERS" "$LINENO" 5
+    as_fn_error $? "could not make $CONFIG_HEADERS" "$LINENO" 5
   else
     ac_delim="$ac_delim!$ac_delim _$ac_delim!! "
   fi
@@ -17484,7 +17524,7 @@ cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
 _ACAWK
 _ACEOF
 cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
-  as_fn_error "could not setup config headers machinery" "$LINENO" 5
+  as_fn_error $? "could not setup config headers machinery" "$LINENO" 5
 fi # test -n "$CONFIG_HEADERS"
 
 
@@ -17497,7 +17537,7 @@ do
   esac
   case $ac_mode$ac_tag in
   :[FHL]*:*);;
-  :L* | :C*:*) as_fn_error "invalid tag \`$ac_tag'" "$LINENO" 5;;
+  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5 ;;
   :[FH]-) ac_tag=-:-;;
   :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
   esac
@@ -17525,7 +17565,7 @@ do
 	   [\\/$]*) false;;
 	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
 	   esac ||
-	   as_fn_error "cannot find input file: \`$ac_f'" "$LINENO" 5;;
+	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5 ;;
       esac
       case $ac_f in *\'*) ac_f=`$as_echo "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
       as_fn_append ac_file_inputs " '$ac_f'"
@@ -17552,7 +17592,7 @@ $as_echo "$as_me: creating $ac_file" >&6;}
 
     case $ac_tag in
     *:-:* | *:-) cat >"$tmp/stdin" \
-      || as_fn_error "could not create $ac_file" "$LINENO" 5 ;;
+      || as_fn_error $? "could not create $ac_file" "$LINENO" 5  ;;
     esac
     ;;
   esac
@@ -17689,22 +17729,22 @@ s&@MKDIR_P@&$ac_MKDIR_P&;t t
 $ac_datarootdir_hack
 "
 eval sed \"\$ac_sed_extra\" "$ac_file_inputs" | $AWK -f "$tmp/subs.awk" >$tmp/out \
-  || as_fn_error "could not create $ac_file" "$LINENO" 5
+  || as_fn_error $? "could not create $ac_file" "$LINENO" 5
 
 test -z "$ac_datarootdir_hack$ac_datarootdir_seen" &&
   { ac_out=`sed -n '/\${datarootdir}/p' "$tmp/out"`; test -n "$ac_out"; } &&
   { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' "$tmp/out"`; test -z "$ac_out"; } &&
   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \`datarootdir'
-which seems to be undefined.  Please make sure it is defined." >&5
+which seems to be undefined.  Please make sure it is defined" >&5
 $as_echo "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
-which seems to be undefined.  Please make sure it is defined." >&2;}
+which seems to be undefined.  Please make sure it is defined" >&2;}
 
   rm -f "$tmp/stdin"
   case $ac_file in
   -) cat "$tmp/out" && rm -f "$tmp/out";;
   *) rm -f "$ac_file" && mv "$tmp/out" "$ac_file";;
   esac \
-  || as_fn_error "could not create $ac_file" "$LINENO" 5
+  || as_fn_error $? "could not create $ac_file" "$LINENO" 5
  ;;
   :H)
   #
@@ -17715,19 +17755,19 @@ which seems to be undefined.  Please make sure it is defined." >&2;}
       $as_echo "/* $configure_input  */" \
       && eval '$AWK -f "$tmp/defines.awk"' "$ac_file_inputs"
     } >"$tmp/config.h" \
-      || as_fn_error "could not create $ac_file" "$LINENO" 5
+      || as_fn_error $? "could not create $ac_file" "$LINENO" 5
     if diff "$ac_file" "$tmp/config.h" >/dev/null 2>&1; then
       { $as_echo "$as_me:${as_lineno-$LINENO}: $ac_file is unchanged" >&5
 $as_echo "$as_me: $ac_file is unchanged" >&6;}
     else
       rm -f "$ac_file"
       mv "$tmp/config.h" "$ac_file" \
-	|| as_fn_error "could not create $ac_file" "$LINENO" 5
+	|| as_fn_error $? "could not create $ac_file" "$LINENO" 5
     fi
   else
     $as_echo "/* $configure_input  */" \
       && eval '$AWK -f "$tmp/defines.awk"' "$ac_file_inputs" \
-      || as_fn_error "could not create -" "$LINENO" 5
+      || as_fn_error $? "could not create -" "$LINENO" 5
   fi
 # Compute "$ac_file"'s index in $config_headers.
 _am_arg="$ac_file"
@@ -18512,7 +18552,7 @@ _ACEOF
 ac_clean_files=$ac_clean_files_save
 
 test $ac_write_fail = 0 ||
-  as_fn_error "write failure creating $CONFIG_STATUS" "$LINENO" 5
+  as_fn_error $? "write failure creating $CONFIG_STATUS" "$LINENO" 5
 
 
 # configure is writing to config.log, and then calls config.status.
@@ -18533,7 +18573,7 @@ if test "$no_create" != yes; then
   exec 5>>config.log
   # Use ||, not &&, to avoid exiting from the if with $? = 1, which
   # would make configure fail if this is the last instruction.
-  $ac_cs_success || as_fn_exit $?
+  $ac_cs_success || as_fn_exit 1
 fi
 if test -n "$ac_unrecognized_opts" && test "$enable_option_checking" != no; then
   { $as_echo "$as_me:${as_lineno-$LINENO}: WARNING: unrecognized options: $ac_unrecognized_opts" >&5
diff --git a/doc/Makefile.in b/doc/Makefile.in
index 113dd60..75212ad 100644
--- a/doc/Makefile.in
+++ b/doc/Makefile.in
@@ -129,6 +129,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/java/Makefile.in b/java/Makefile.in
index 21acae6..c1b8049 100644
--- a/java/Makefile.in
+++ b/java/Makefile.in
@@ -143,6 +143,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/cust1/Makefile.in b/plugins/cust1/Makefile.in
index 85b3f84..543d172 100644
--- a/plugins/cust1/Makefile.in
+++ b/plugins/cust1/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/im3195/Makefile.in b/plugins/im3195/Makefile.in
index 55940d0..b903e4a 100644
--- a/plugins/im3195/Makefile.in
+++ b/plugins/im3195/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/imdiag/Makefile.in b/plugins/imdiag/Makefile.in
index cea7227..0d7379b 100644
--- a/plugins/imdiag/Makefile.in
+++ b/plugins/imdiag/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/imfile/Makefile.in b/plugins/imfile/Makefile.in
index fe3d175..7a58fb3 100644
--- a/plugins/imfile/Makefile.in
+++ b/plugins/imfile/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/imgssapi/Makefile.in b/plugins/imgssapi/Makefile.in
index 70ffdd0..ad17f13 100644
--- a/plugins/imgssapi/Makefile.in
+++ b/plugins/imgssapi/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/imklog/Makefile.in b/plugins/imklog/Makefile.in
index 3a56b43..c0866bb 100644
--- a/plugins/imklog/Makefile.in
+++ b/plugins/imklog/Makefile.in
@@ -195,6 +195,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/immark/Makefile.in b/plugins/immark/Makefile.in
index 03a2770..6011238 100644
--- a/plugins/immark/Makefile.in
+++ b/plugins/immark/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/impstats/Makefile.in b/plugins/impstats/Makefile.in
index 40e20cc..812a15c 100644
--- a/plugins/impstats/Makefile.in
+++ b/plugins/impstats/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/imptcp/Makefile.in b/plugins/imptcp/Makefile.in
index 2eec073..ee2cff8 100644
--- a/plugins/imptcp/Makefile.in
+++ b/plugins/imptcp/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/imrelp/Makefile.in b/plugins/imrelp/Makefile.in
index b31837f..3dbdd6b 100644
--- a/plugins/imrelp/Makefile.in
+++ b/plugins/imrelp/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/imsolaris/Makefile.in b/plugins/imsolaris/Makefile.in
index a3f734f..179d354 100644
--- a/plugins/imsolaris/Makefile.in
+++ b/plugins/imsolaris/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/imtcp/Makefile.in b/plugins/imtcp/Makefile.in
index bba4fe5..051cb9c 100644
--- a/plugins/imtcp/Makefile.in
+++ b/plugins/imtcp/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/imtemplate/Makefile.in b/plugins/imtemplate/Makefile.in
index 413b366..9a6b3f5 100644
--- a/plugins/imtemplate/Makefile.in
+++ b/plugins/imtemplate/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/imudp/Makefile.in b/plugins/imudp/Makefile.in
index cb1d47e..3d139d2 100644
--- a/plugins/imudp/Makefile.in
+++ b/plugins/imudp/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/imuxsock/Makefile.in b/plugins/imuxsock/Makefile.in
index 84502c1..2bd68cf 100644
--- a/plugins/imuxsock/Makefile.in
+++ b/plugins/imuxsock/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omdbalerting/Makefile.in b/plugins/omdbalerting/Makefile.in
index 8a4b0ad..b2cb658 100644
--- a/plugins/omdbalerting/Makefile.in
+++ b/plugins/omdbalerting/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omgssapi/Makefile.in b/plugins/omgssapi/Makefile.in
index f639641..76540c2 100644
--- a/plugins/omgssapi/Makefile.in
+++ b/plugins/omgssapi/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omhdfs/Makefile.in b/plugins/omhdfs/Makefile.in
index 62f0ab5..0bdb33a 100644
--- a/plugins/omhdfs/Makefile.in
+++ b/plugins/omhdfs/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omlibdbi/Makefile.in b/plugins/omlibdbi/Makefile.in
index d3fae53..b199175 100644
--- a/plugins/omlibdbi/Makefile.in
+++ b/plugins/omlibdbi/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/ommail/Makefile.in b/plugins/ommail/Makefile.in
index 51a2e4a..eb8ce3f 100644
--- a/plugins/ommail/Makefile.in
+++ b/plugins/ommail/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/ommysql/Makefile.in b/plugins/ommysql/Makefile.in
index 5a19072..2a40079 100644
--- a/plugins/ommysql/Makefile.in
+++ b/plugins/ommysql/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omoracle/Makefile.in b/plugins/omoracle/Makefile.in
index da9881d..1ee694d 100644
--- a/plugins/omoracle/Makefile.in
+++ b/plugins/omoracle/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/ompgsql/Makefile.in b/plugins/ompgsql/Makefile.in
index 74d4d4b..7bb9300 100644
--- a/plugins/ompgsql/Makefile.in
+++ b/plugins/ompgsql/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omprog/Makefile.in b/plugins/omprog/Makefile.in
index ecb6570..0c718d7 100644
--- a/plugins/omprog/Makefile.in
+++ b/plugins/omprog/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omrelp/Makefile.in b/plugins/omrelp/Makefile.in
index 1381aa7..becda4b 100644
--- a/plugins/omrelp/Makefile.in
+++ b/plugins/omrelp/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omruleset/Makefile.in b/plugins/omruleset/Makefile.in
index 3c41b45..e4657cb 100644
--- a/plugins/omruleset/Makefile.in
+++ b/plugins/omruleset/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omsnmp/Makefile.in b/plugins/omsnmp/Makefile.in
index 4c0324d..c4a30b9 100644
--- a/plugins/omsnmp/Makefile.in
+++ b/plugins/omsnmp/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omstdout/Makefile.in b/plugins/omstdout/Makefile.in
index 7ad48cb..e608c23 100644
--- a/plugins/omstdout/Makefile.in
+++ b/plugins/omstdout/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omtemplate/Makefile.in b/plugins/omtemplate/Makefile.in
index 23ef5af..87b5568 100644
--- a/plugins/omtemplate/Makefile.in
+++ b/plugins/omtemplate/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omtesting/Makefile.in b/plugins/omtesting/Makefile.in
index 280c729..c2c1e38 100644
--- a/plugins/omtesting/Makefile.in
+++ b/plugins/omtesting/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omudpspoof/Makefile.in b/plugins/omudpspoof/Makefile.in
index c5e1f0a..25dbba8 100644
--- a/plugins/omudpspoof/Makefile.in
+++ b/plugins/omudpspoof/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/omuxsock/Makefile.in b/plugins/omuxsock/Makefile.in
index 744b51a..01a8886 100644
--- a/plugins/omuxsock/Makefile.in
+++ b/plugins/omuxsock/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/pmlastmsg/Makefile.in b/plugins/pmlastmsg/Makefile.in
index 2f6fb36..6772708 100644
--- a/plugins/pmlastmsg/Makefile.in
+++ b/plugins/pmlastmsg/Makefile.in
@@ -184,6 +184,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/plugins/pmrfc3164sd/Makefile.in b/plugins/pmrfc3164sd/Makefile.in
index 9b60861..59c2601 100644
--- a/plugins/pmrfc3164sd/Makefile.in
+++ b/plugins/pmrfc3164sd/Makefile.in
@@ -185,6 +185,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/runtime/Makefile.in b/runtime/Makefile.in
index 108cfda..b3bfab8 100644
--- a/runtime/Makefile.in
+++ b/runtime/Makefile.in
@@ -310,6 +310,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/tests/Makefile.in b/tests/Makefile.in
index 2b09841..b6ca2f2 100644
--- a/tests/Makefile.in
+++ b/tests/Makefile.in
@@ -267,6 +267,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
diff --git a/tools/Makefile.in b/tools/Makefile.in
index 3aca095..1b62f6e 100644
--- a/tools/Makefile.in
+++ b/tools/Makefile.in
@@ -218,6 +218,8 @@ PATH_SEPARATOR = @PATH_SEPARATOR@
 PGSQL_CFLAGS = @PGSQL_CFLAGS@
 PGSQL_LIBS = @PGSQL_LIBS@
 PKG_CONFIG = @PKG_CONFIG@
+PKG_CONFIG_LIBDIR = @PKG_CONFIG_LIBDIR@
+PKG_CONFIG_PATH = @PKG_CONFIG_PATH@
 PTHREADS_CFLAGS = @PTHREADS_CFLAGS@
 PTHREADS_LIBS = @PTHREADS_LIBS@
 RANLIB = @RANLIB@
