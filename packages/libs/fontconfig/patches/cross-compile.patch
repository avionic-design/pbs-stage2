Fix cross-compilation support.

From: Thierry Reding <thierry.reding@avionic-design.de>


---
 configure.in             |    6 ++++++
 doc/Makefile.am          |    2 ++
 fc-arch/Makefile.am      |    2 ++
 fc-case/Makefile.am      |    2 ++
 fc-glyphname/Makefile.am |    2 ++
 fc-lang/Makefile.am      |    2 ++
 6 files changed, 16 insertions(+), 0 deletions(-)

diff --git a/configure.in b/configure.in
index 589b0c4..87df067 100644
--- a/configure.in
+++ b/configure.in
@@ -103,11 +103,17 @@ dnl ==========================================================================
 AC_MSG_CHECKING([for a C compiler for build tools])
 if test $cross_compiling = yes; then
   AC_CHECK_PROGS(CC_FOR_BUILD, gcc cc)
+  CFLAGS_FOR_BUILD="-O2 -g"
+  LDFLAGS_FOR_BUILD=""
 else
   CC_FOR_BUILD=$CC
+  CFLAGS_FOR_BUILD="$CFLAGS"
+  LDFLAGS_FOR_BUILD="$LDFLAGS"
 fi
 AC_MSG_RESULT([$CC_FOR_BUILD])
 AC_SUBST(CC_FOR_BUILD)
+AC_SUBST(CFLAGS_FOR_BUILD)
+AC_SUBST(LDFLAGS_FOR_BUILD)
 
 AC_MSG_CHECKING([for suffix of executable build tools])
 if test $cross_compiling = yes; then
diff --git a/doc/Makefile.am b/doc/Makefile.am
index 49e00e1..fd9aaf5 100644
--- a/doc/Makefile.am
+++ b/doc/Makefile.am
@@ -22,6 +22,8 @@
 # PERFORMANCE OF THIS SOFTWARE.
 
 CC = @CC_FOR_BUILD@
+CFLAGS = @CFLAGS_FOR_BUILD@
+LDFLAGS = @LDFLAGS_FOR_BUILD@
 EXEEXT = @EXEEXT_FOR_BUILD@
 LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@
 
diff --git a/fc-arch/Makefile.am b/fc-arch/Makefile.am
index 806c730..26fed35 100644
--- a/fc-arch/Makefile.am
+++ b/fc-arch/Makefile.am
@@ -23,6 +23,8 @@
 #
 
 CC = @CC_FOR_BUILD@
+CFLAGS = @CFLAGS_FOR_BUILD@
+LDFLAGS = @LDFLAGS_FOR_BUILD@
 EXEEXT = @EXEEXT_FOR_BUILD@
 LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@
 
diff --git a/fc-case/Makefile.am b/fc-case/Makefile.am
index bf01984..81b8025 100644
--- a/fc-case/Makefile.am
+++ b/fc-case/Makefile.am
@@ -23,6 +23,8 @@
 #
 
 CC = @CC_FOR_BUILD@
+CFLAGS = @CFLAGS_FOR_BUILD@
+LDFLAGS = @LDFLAGS_FOR_BUILD@
 EXEEXT = @EXEEXT_FOR_BUILD@
 LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@
 
diff --git a/fc-glyphname/Makefile.am b/fc-glyphname/Makefile.am
index bcb4d07..7d91604 100644
--- a/fc-glyphname/Makefile.am
+++ b/fc-glyphname/Makefile.am
@@ -23,6 +23,8 @@
 #
 
 CC = @CC_FOR_BUILD@
+CFLAGS = @CFLAGS_FOR_BUILD@
+LDFLAGS = @LDFLAGS_FOR_BUILD@
 EXEEXT = @EXEEXT_FOR_BUILD@
 LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@
 
diff --git a/fc-lang/Makefile.am b/fc-lang/Makefile.am
index 923a4ff..15dead1 100644
--- a/fc-lang/Makefile.am
+++ b/fc-lang/Makefile.am
@@ -23,6 +23,8 @@
 #
 
 CC = @CC_FOR_BUILD@
+CFLAGS = @CFLAGS_FOR_BUILD@
+LDFLAGS = @LDFLAGS_FOR_BUILD@
 EXEEXT = @EXEEXT_FOR_BUILD@
 LINK = $(CCLD) $(AM_CFLAGS) $(CFLAGS) $(AM_LDFLAGS) $(LDFLAGS) -o $@
 
