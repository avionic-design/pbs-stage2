From 6deafa812e29cda35e56900e5a029a9757e3c6f7 Mon Sep 17 00:00:00 2001
From: Douglas Bagnall <douglas@paradise.net.nz>
Date: Sun, 10 Mar 2013 12:17:05 +1300
Subject: [PATCH 3/8] tsdemux: remove unused current_program_number field

https://bugzilla.gnome.org/show_bug.cgi?id=690934
---
 gst/mpegtsdemux/tsdemux.c | 3 ---
 gst/mpegtsdemux/tsdemux.h | 1 -
 2 files changed, 4 deletions(-)

diff --git a/gst/mpegtsdemux/tsdemux.c b/gst/mpegtsdemux/tsdemux.c
index 8939f7d..5bfc63a 100644
--- a/gst/mpegtsdemux/tsdemux.c
+++ b/gst/mpegtsdemux/tsdemux.c
@@ -1135,9 +1135,6 @@ gst_ts_demux_program_started (MpegTSBase * base, MpegTSBaseProgram * program)
     demux->calculate_update_segment = !program->initial_program;
 
     /* FIXME : When do we emit no_more_pads ? */
-
-    /* Inform scanner we have got our program */
-    demux->current_program_number = program->program_number;
   }
 }
 
diff --git a/gst/mpegtsdemux/tsdemux.h b/gst/mpegtsdemux/tsdemux.h
index df19df8..5dee984 100644
--- a/gst/mpegtsdemux/tsdemux.h
+++ b/gst/mpegtsdemux/tsdemux.h
@@ -60,7 +60,6 @@ struct _GstTSDemux
 
   /*< private >*/
   MpegTSBaseProgram *program;	/* Current program */
-  guint	current_program_number;
 
   /* segments to be sent */
   GstSegment segment;
-- 
1.8.1.4

