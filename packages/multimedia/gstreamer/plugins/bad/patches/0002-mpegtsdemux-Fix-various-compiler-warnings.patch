From dc373d84e33c07e21522bd926f2d0021f227ba32 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Sebastian=20Dr=C3=B6ge?= <sebastian.droege@collabora.co.uk>
Date: Sun, 3 Mar 2013 12:30:32 +0100
Subject: [PATCH 2/8] mpegtsdemux: Fix various compiler warnings

---
 gst/mpegtsdemux/mpegtsbase.c | 3 ++-
 gst/mpegtsdemux/pesparse.c   | 4 ++--
 2 files changed, 4 insertions(+), 3 deletions(-)

diff --git a/gst/mpegtsdemux/mpegtsbase.c b/gst/mpegtsdemux/mpegtsbase.c
index b553ecf..729fedc 100644
--- a/gst/mpegtsdemux/mpegtsbase.c
+++ b/gst/mpegtsdemux/mpegtsbase.c
@@ -1491,7 +1491,7 @@ mpegts_base_chain (GstPad * pad, GstObject * parent, GstBuffer * buf)
 static GstFlowReturn
 mpegts_base_scan (MpegTSBase * base)
 {
-  GstFlowReturn ret;
+  GstFlowReturn ret = GST_FLOW_OK;
   GstBuffer *buf = NULL;
   guint i;
   gboolean done = FALSE;
@@ -1598,6 +1598,7 @@ static void
 mpegts_base_loop (MpegTSBase * base)
 {
   GstFlowReturn ret = GST_FLOW_ERROR;
+
   switch (base->mode) {
     case BASE_MODE_SCANNING:
       /* Find first sync point */
diff --git a/gst/mpegtsdemux/pesparse.c b/gst/mpegtsdemux/pesparse.c
index 2628826..d31fe46 100644
--- a/gst/mpegtsdemux/pesparse.c
+++ b/gst/mpegtsdemux/pesparse.c
@@ -334,7 +334,7 @@ mpegts_parse_pes_header (const guint8 * data, gsize length, PESHeader * res,
     if (G_UNLIKELY (length < res->extension_field_length + 1))
       goto need_more_data;
 
-    GST_LOG ("extension_field_length : %" G_GSSIZE_FORMAT,
+    GST_LOG ("extension_field_length : %" G_GSIZE_FORMAT,
         res->extension_field_length);
 
     if (res->extension_field_length) {
@@ -359,7 +359,7 @@ stuffing_byte:
   length = origlength - res->header_size;
 
 done_parsing:
-  GST_DEBUG ("origlength:%" G_GSSIZE_FORMAT ", length:%" G_GSSIZE_FORMAT,
+  GST_DEBUG ("origlength:%" G_GSIZE_FORMAT ", length:%" G_GSIZE_FORMAT,
       origlength, length);
 
   res->header_size = origlength - length;
-- 
1.8.1.4

